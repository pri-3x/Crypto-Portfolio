import {
    r as u,
    aj as z,
    d8 as W,
    j as e,
    d9 as Ee,
    D as $e,
    t as k,
    da as kn,
    db as tt,
    dc as at,
    k as xe,
    cM as In,
    cc as Ds,
    cd as Bs,
    dd as En,
    b as B,
    a7 as F,
    de as Ln,
    df as Ke,
    dg as Ze,
    aD as Pn,
    ao as nt,
    dh as On,
    di as Mn,
    dj as Fn,
    dk as Dn,
    aC as O,
    dl as Bn,
    dm as Vn,
    dn as Rn,
    dp as Ye,
    dq as _n,
    dr as $n,
    ds as rt,
    dt as Wn,
    du as Un,
    dv as Yt,
    dw as Hn,
    dx as zn,
    u as S,
    dy as Ta,
    dz as ee,
    z as Ie,
    cA as Jt,
    dA as qn,
    dB as Gn,
    y as ot,
    dC as Kn,
    as as $,
    az as We,
    dD as lt,
    dE as it,
    dF as ct,
    dG as Zn,
    dH as Xn,
    dI as Qn,
    dJ as Yn,
    a$ as Je,
    dK as te,
    dL as Jn,
    dM as Be,
    dN as ge,
    dO as er,
    dP as sr,
    dQ as tr,
    dR as ar,
    dS as nr,
    dT as es,
    H as Se,
    dU as rr,
    dV as Le,
    dW as ka,
    dX as Te,
    aq as Pe,
    dY as Ia,
    dZ as ve,
    d_ as dt,
    d$ as ss,
    av as ks,
    e0 as J,
    ar as Ae,
    aP as je,
    aR as or,
    e1 as lr,
    e2 as ea,
    e3 as ir,
    a9 as cr,
    e4 as sa,
    e5 as ta,
    e6 as dr,
    e7 as mr,
    e8 as ur,
    e9 as xr,
    ea as hr,
    eb as Ea,
    ec as fr,
    ed as pr,
    ee as mt,
    ef as La,
    eg as gr,
    eh as jr,
    ei as Nr,
    ej as qs,
    w as we,
    ek as aa,
    el as Xe,
    em as Is,
    en as ls,
    eo as br,
    ep as vr,
    eq as re,
    cJ as na,
    er as wr,
    C as ut,
    cZ as Ne,
    es as yr,
    aM as he,
    et as xt,
    M as fe,
    eu as Vs,
    a6 as Pa,
    ev as Cr,
    ew as Oa,
    ex as Ma,
    ey as Ns,
    ez as ra,
    cN as Ar,
    eA as Sr,
    eB as Tr,
    eC as Fa,
    eD as Da,
    h as ht,
    eE as ms,
    ag as kr,
    eF as Ba,
    eG as Ir,
    eH as Va,
    eI as Ra,
    eJ as Ve,
    eK as _a,
    eL as Rs,
    eM as _s,
    eN as Er,
    eO as Lr,
    eP as Es,
    eQ as G,
    eR as ft,
    eS as Pr,
    eT as Ue,
    eU as $a,
    eV as Wa,
    eW as Ua,
    p as Ha,
    eX as za,
    eY as Gs,
    eZ as qa,
    e_ as Ga,
    e$ as oa,
    f0 as Or,
    f1 as is,
    f2 as Ka,
    f3 as Ks,
    aa as Zs,
    f4 as $s,
    f5 as Za,
    f6 as Xa,
    x as Ls,
    f7 as Mr,
    f8 as Ps,
    T as q,
    i as Q,
    f9 as Fr,
    fa as Qa,
    cK as pt,
    fb as Dr,
    fc as Br,
    fd as Vr,
    fe as Ya,
    cV as Rr,
    ff as _r,
    fg as gt,
    fh as $r,
    cP as jt,
    fi as Ja,
    cQ as Nt,
    cR as Os,
    fj as bt,
    fk as oe,
    fl as Wr,
    fm as Ur,
    fn as Hr,
    fo as us,
    fp as xs,
    fq as hs,
    fr as zr,
    fs as qr,
    ft as Gr,
    fu as Kr,
    fv as en,
    fw as Me,
    fx as Zr,
    fy as la,
    fz as Xr,
    fA as Qr,
    fB as Yr,
    fC as Jr,
    fD as Ws,
    bp as fs,
    fE as eo,
    fF as so,
    fG as Ts,
    aL as to,
    fH as ao,
    fI as sn,
    fJ as ia,
    fK as bs,
    fL as vs,
    L as ps,
    fM as no,
    fN as ro,
    fO as ca,
    fP as oo,
    fQ as vt,
    v as lo,
    fR as io,
    fS as co,
    fT as wt,
    fU as mo,
    fV as uo,
    fW as tn,
    fX as da,
    fY as ma,
    fZ as xo,
    f_ as ho,
    f$ as fo,
    g0 as po,
    g1 as go,
    g2 as jo,
    g3 as No,
    g4 as bo,
    g5 as vo,
    g6 as wo,
    g7 as yo,
    g8 as Co,
    c_ as Ao,
    g9 as So,
    ga as To,
    gb as ko,
    gc as Io,
    gd as Eo,
    ge as Lo,
    gf as Po,
    gg as Oo,
    d as an,
    aH as Re,
    gh as ke,
    gi as cs,
    gj as Mo,
    gk as Fo,
    a0 as ua,
    a1 as xa,
    gl as Do,
    gm as Bo,
    gn as Vo,
    go as Ro,
    gp as ha,
    gq as Fe,
    gr as _o,
    gs as fa,
    gt as $o,
    gu as Wo,
    gv as Uo,
    gw as Ho,
    gx as yt,
    gy as Ct,
    gz as zo,
    gA as qo,
    gB as Go,
    gC as Ko,
    bq as Zo,
    aA as Xo,
    aE as Qo,
    aF as ws,
    aG as Yo
} from "./bootstrap-7c5c33c8.js";
import {
    D as At,
    P as _e,
    A as Jo
} from "./AccountsMultiSelectDropdown-9e2b61d0.js";
import {
    B as St
} from "./BalanceConversionText-e8458c4f.js";
import {
    T as Tt,
    C as el
} from "./TableLoading-420ea867.js";
import {
    u as nn,
    A as pa
} from "./useSortTableData-53faf8b9.js";
import {
    S as sl,
    L as ds
} from "./SwapToken-f1103743.js";
import {
    u as tl
} from "./useLDVariation-7848242a.js";
import {
    T as al
} from "./TableError-3e4618fd.js";
import {
    F as ye
} from "./index-10f017aa.js";
import {
    u as He
} from "./useBreakpoint-f1843395.js";
import {
    S as nl
} from "./SparklesIcon-d4c4fb1e.js";
import {
    M as rl,
    A as ol,
    u as kt
} from "./useCexBalancesStatus-a42a6216.js";
import {
    T as ll
} from "./index-6d5a5f87.js";
import "./index-184b0bea.js";
import "./LoadingPulseCircle-5fb146d3.js";

function Xs() {
    return Xs = Object.assign || function(s) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && (s[a] = n[a])
        }
        return s
    }, Xs.apply(this, arguments)
}

function il(s, t) {
    if (s == null) return {};
    var n = cl(s, t),
        a, r;
    if (Object.getOwnPropertySymbols) {
        var o = Object.getOwnPropertySymbols(s);
        for (r = 0; r < o.length; r++) a = o[r], !(t.indexOf(a) >= 0) && Object.prototype.propertyIsEnumerable.call(s, a) && (n[a] = s[a])
    }
    return n
}

function cl(s, t) {
    if (s == null) return {};
    var n = {},
        a = Object.keys(s),
        r, o;
    for (o = 0; o < a.length; o++) r = a[o], !(t.indexOf(r) >= 0) && (n[r] = s[r]);
    return n
}
var It = u.forwardRef(function(s, t) {
    var n = s.color,
        a = n === void 0 ? "currentColor" : n,
        r = s.size,
        o = r === void 0 ? 24 : r,
        l = il(s, ["color", "size"]);
    return z.createElement("svg", Xs({
        ref: t,
        xmlns: "http://www.w3.org/2000/svg",
        width: o,
        height: o,
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: a,
        strokeWidth: "2",
        strokeLinecap: "round",
        strokeLinejoin: "round"
    }, l), z.createElement("line", {
        x1: "17",
        y1: "7",
        x2: "7",
        y2: "17"
    }), z.createElement("polyline", {
        points: "17 17 7 17 7 7"
    }))
});
It.propTypes = {
    color: W.string,
    size: W.oneOfType([W.string, W.number])
};
It.displayName = "ArrowDownLeft";
const ga = It;

function Qs() {
    return Qs = Object.assign || function(s) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && (s[a] = n[a])
        }
        return s
    }, Qs.apply(this, arguments)
}

function dl(s, t) {
    if (s == null) return {};
    var n = ml(s, t),
        a, r;
    if (Object.getOwnPropertySymbols) {
        var o = Object.getOwnPropertySymbols(s);
        for (r = 0; r < o.length; r++) a = o[r], !(t.indexOf(a) >= 0) && Object.prototype.propertyIsEnumerable.call(s, a) && (n[a] = s[a])
    }
    return n
}

function ml(s, t) {
    if (s == null) return {};
    var n = {},
        a = Object.keys(s),
        r, o;
    for (o = 0; o < a.length; o++) r = a[o], !(t.indexOf(r) >= 0) && (n[r] = s[r]);
    return n
}
var Et = u.forwardRef(function(s, t) {
    var n = s.color,
        a = n === void 0 ? "currentColor" : n,
        r = s.size,
        o = r === void 0 ? 24 : r,
        l = dl(s, ["color", "size"]);
    return z.createElement("svg", Qs({
        ref: t,
        xmlns: "http://www.w3.org/2000/svg",
        width: o,
        height: o,
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: a,
        strokeWidth: "2",
        strokeLinecap: "round",
        strokeLinejoin: "round"
    }, l), z.createElement("line", {
        x1: "12",
        y1: "19",
        x2: "12",
        y2: "5"
    }), z.createElement("polyline", {
        points: "5 12 12 5 19 12"
    }))
});
Et.propTypes = {
    color: W.string,
    size: W.oneOfType([W.string, W.number])
};
Et.displayName = "ArrowUp";
const rn = Et;

function Ys() {
    return Ys = Object.assign || function(s) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && (s[a] = n[a])
        }
        return s
    }, Ys.apply(this, arguments)
}

function ul(s, t) {
    if (s == null) return {};
    var n = xl(s, t),
        a, r;
    if (Object.getOwnPropertySymbols) {
        var o = Object.getOwnPropertySymbols(s);
        for (r = 0; r < o.length; r++) a = o[r], !(t.indexOf(a) >= 0) && Object.prototype.propertyIsEnumerable.call(s, a) && (n[a] = s[a])
    }
    return n
}

function xl(s, t) {
    if (s == null) return {};
    var n = {},
        a = Object.keys(s),
        r, o;
    for (o = 0; o < a.length; o++) r = a[o], !(t.indexOf(r) >= 0) && (n[r] = s[r]);
    return n
}
var Lt = u.forwardRef(function(s, t) {
    var n = s.color,
        a = n === void 0 ? "currentColor" : n,
        r = s.size,
        o = r === void 0 ? 24 : r,
        l = ul(s, ["color", "size"]);
    return z.createElement("svg", Ys({
        ref: t,
        xmlns: "http://www.w3.org/2000/svg",
        width: o,
        height: o,
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: a,
        strokeWidth: "2",
        strokeLinecap: "round",
        strokeLinejoin: "round"
    }, l), z.createElement("path", {
        d: "M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"
    }), z.createElement("polyline", {
        points: "13 2 13 9 20 9"
    }))
});
Lt.propTypes = {
    color: W.string,
    size: W.oneOfType([W.string, W.number])
};
Lt.displayName = "File";
const hl = Lt;

function Js() {
    return Js = Object.assign || function(s) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && (s[a] = n[a])
        }
        return s
    }, Js.apply(this, arguments)
}

function fl(s, t) {
    if (s == null) return {};
    var n = pl(s, t),
        a, r;
    if (Object.getOwnPropertySymbols) {
        var o = Object.getOwnPropertySymbols(s);
        for (r = 0; r < o.length; r++) a = o[r], !(t.indexOf(a) >= 0) && Object.prototype.propertyIsEnumerable.call(s, a) && (n[a] = s[a])
    }
    return n
}

function pl(s, t) {
    if (s == null) return {};
    var n = {},
        a = Object.keys(s),
        r, o;
    for (o = 0; o < a.length; o++) r = a[o], !(t.indexOf(r) >= 0) && (n[r] = s[r]);
    return n
}
var Pt = u.forwardRef(function(s, t) {
    var n = s.color,
        a = n === void 0 ? "currentColor" : n,
        r = s.size,
        o = r === void 0 ? 24 : r,
        l = fl(s, ["color", "size"]);
    return z.createElement("svg", Js({
        ref: t,
        xmlns: "http://www.w3.org/2000/svg",
        width: o,
        height: o,
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: a,
        strokeWidth: "2",
        strokeLinecap: "round",
        strokeLinejoin: "round"
    }, l), z.createElement("rect", {
        x: "3",
        y: "3",
        width: "7",
        height: "7"
    }), z.createElement("rect", {
        x: "14",
        y: "3",
        width: "7",
        height: "7"
    }), z.createElement("rect", {
        x: "14",
        y: "14",
        width: "7",
        height: "7"
    }), z.createElement("rect", {
        x: "3",
        y: "14",
        width: "7",
        height: "7"
    }))
});
Pt.propTypes = {
    color: W.string,
    size: W.oneOfType([W.string, W.number])
};
Pt.displayName = "Grid";
const gl = Pt;

function et() {
    return et = Object.assign || function(s) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && (s[a] = n[a])
        }
        return s
    }, et.apply(this, arguments)
}

function jl(s, t) {
    if (s == null) return {};
    var n = Nl(s, t),
        a, r;
    if (Object.getOwnPropertySymbols) {
        var o = Object.getOwnPropertySymbols(s);
        for (r = 0; r < o.length; r++) a = o[r], !(t.indexOf(a) >= 0) && Object.prototype.propertyIsEnumerable.call(s, a) && (n[a] = s[a])
    }
    return n
}

function Nl(s, t) {
    if (s == null) return {};
    var n = {},
        a = Object.keys(s),
        r, o;
    for (o = 0; o < a.length; o++) r = a[o], !(t.indexOf(r) >= 0) && (n[r] = s[r]);
    return n
}
var Ot = u.forwardRef(function(s, t) {
    var n = s.color,
        a = n === void 0 ? "currentColor" : n,
        r = s.size,
        o = r === void 0 ? 24 : r,
        l = jl(s, ["color", "size"]);
    return z.createElement("svg", et({
        ref: t,
        xmlns: "http://www.w3.org/2000/svg",
        width: o,
        height: o,
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: a,
        strokeWidth: "2",
        strokeLinecap: "round",
        strokeLinejoin: "round"
    }, l), z.createElement("circle", {
        cx: "12",
        cy: "12",
        r: "3"
    }), z.createElement("path", {
        d: "M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
    }))
});
Ot.propTypes = {
    color: W.string,
    size: W.oneOfType([W.string, W.number])
};
Ot.displayName = "Settings";
const bl = Ot;

function st() {
    return st = Object.assign || function(s) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && (s[a] = n[a])
        }
        return s
    }, st.apply(this, arguments)
}

function vl(s, t) {
    if (s == null) return {};
    var n = wl(s, t),
        a, r;
    if (Object.getOwnPropertySymbols) {
        var o = Object.getOwnPropertySymbols(s);
        for (r = 0; r < o.length; r++) a = o[r], !(t.indexOf(a) >= 0) && Object.prototype.propertyIsEnumerable.call(s, a) && (n[a] = s[a])
    }
    return n
}

function wl(s, t) {
    if (s == null) return {};
    var n = {},
        a = Object.keys(s),
        r, o;
    for (o = 0; o < a.length; o++) r = a[o], !(t.indexOf(r) >= 0) && (n[r] = s[r]);
    return n
}
var Mt = u.forwardRef(function(s, t) {
    var n = s.color,
        a = n === void 0 ? "currentColor" : n,
        r = s.size,
        o = r === void 0 ? 24 : r,
        l = vl(s, ["color", "size"]);
    return z.createElement("svg", st({
        ref: t,
        xmlns: "http://www.w3.org/2000/svg",
        width: o,
        height: o,
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: a,
        strokeWidth: "2",
        strokeLinecap: "round",
        strokeLinejoin: "round"
    }, l), z.createElement("path", {
        d: "M5 12.55a11 11 0 0 1 14.08 0"
    }), z.createElement("path", {
        d: "M1.42 9a16 16 0 0 1 21.16 0"
    }), z.createElement("path", {
        d: "M8.53 16.11a6 6 0 0 1 6.95 0"
    }), z.createElement("line", {
        x1: "12",
        y1: "20",
        x2: "12.01",
        y2: "20"
    }))
});
Mt.propTypes = {
    color: W.string,
    size: W.oneOfType([W.string, W.number])
};
Mt.displayName = "Wifi";
const yl = Mt,
    Cl = ({
        color: s = "currentColor",
        ...t
    }) => e.jsx("svg", {
        width: "24",
        height: "24",
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...t,
        children: e.jsx("path", {
            d: "M10.7429 5.09232C11.1494 5.03223 11.5686 5 12.0004 5C17.1054 5 20.4553 9.50484 21.5807 11.2868C21.7169 11.5025 21.785 11.6103 21.8231 11.7767C21.8518 11.9016 21.8517 12.0987 21.8231 12.2236C21.7849 12.3899 21.7164 12.4985 21.5792 12.7156C21.2793 13.1901 20.8222 13.8571 20.2165 14.5805M6.72432 6.71504C4.56225 8.1817 3.09445 10.2194 2.42111 11.2853C2.28428 11.5019 2.21587 11.6102 2.17774 11.7765C2.1491 11.9014 2.14909 12.0984 2.17771 12.2234C2.21583 12.3897 2.28393 12.4975 2.42013 12.7132C3.54554 14.4952 6.89541 19 12.0004 19C14.0588 19 15.8319 18.2676 17.2888 17.2766M3.00042 3L21.0004 21M9.8791 9.87868C9.3362 10.4216 9.00042 11.1716 9.00042 12C9.00042 13.6569 10.3436 15 12.0004 15C12.8288 15 13.5788 14.6642 14.1217 14.1213",
            stroke: s,
            strokeWidth: "2",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        })
    }),
    Al = ({
        color: s = "currentColor",
        ...t
    }) => e.jsxs("svg", {
        width: "24",
        height: "14",
        viewBox: "0 0 20 14",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...t,
        children: [e.jsx("path", {
            d: "M2.01677 7.59431C1.90328 7.41461 1.84654 7.32476 1.81477 7.18618C1.79091 7.08208 1.79091 6.91791 1.81477 6.81382C1.84654 6.67523 1.90328 6.58538 2.01677 6.40568C2.95461 4.9207 5.74617 1.16666 10.0003 1.16666C14.2545 1.16666 17.0461 4.9207 17.9839 6.40568C18.0974 6.58538 18.1541 6.67523 18.1859 6.81382C18.2098 6.91791 18.2098 7.08208 18.1859 7.18618C18.1541 7.32476 18.0974 7.41461 17.9839 7.59431C17.0461 9.0793 14.2545 12.8333 10.0003 12.8333C5.74617 12.8333 2.95461 9.0793 2.01677 7.59431Z",
            stroke: s,
            "stroke-width": "1.66667",
            "stroke-linecap": "round",
            "stroke-linejoin": "round"
        }), e.jsx("path", {
            d: "M10.0003 9.5C11.381 9.5 12.5003 8.38071 12.5003 7C12.5003 5.61929 11.381 4.5 10.0003 4.5C8.61962 4.5 7.50034 5.61929 7.50034 7C7.50034 8.38071 8.61962 9.5 10.0003 9.5Z",
            stroke: s,
            "stroke-width": "1.66667",
            "stroke-linecap": "round",
            "stroke-linejoin": "round"
        })]
    }),
    Sl = ({
        items: s,
        selected: t,
        analyticsId: n,
        onSelect: a,
        disabled: r = !1
    }) => {
        const [o, l] = u.useState(!1), c = u.useRef(null);
        Ee(c, () => l(!1));
        const i = s.find(x => x.value === t);
        return e.jsxs("div", {
            ref: c,
            className: "relative group",
            children: [e.jsx($e, {
                "data-testid": "dropdown-selector",
                isOpen: o,
                value: e.jsxs(e.Fragment, {
                    children: [e.jsx("div", {
                        className: k("mr-1.5", {
                            "text-info-default": o
                        }),
                        children: i == null ? void 0 : i.name
                    }), e.jsx("div", {
                        className: k("text-xs px-1 rounded-md bg-icon-default text-primary-inverse group-hover:bg-info-default", {
                            "bg-info-default": o,
                            "opacity-50": r
                        }),
                        children: i == null ? void 0 : i.count
                    })]
                }),
                onClick: () => {
                    n === "NFT Filter" && kn({}), l(!o)
                },
                className: "w-full"
            }), e.jsx(tt, {
                "data-testid": "dropdown-list",
                className: "w-min md:max-w-[12rem] lg:max-w-[15rem] max-h-60 mt-1 text-base sm:text-sm",
                isOpen: o,
                children: s.map((x, m) => e.jsxs(at, {
                    onClick: () => {
                        a(x), l(!1)
                    },
                    isSelected: t === x.value,
                    children: [e.jsx("div", {
                        className: "truncate flex-1 mr-3",
                        children: x.name
                    }), e.jsx("div", {
                        className: "text-xs px-1 rounded-md bg-alternative",
                        children: x.count
                    })]
                }, m))
            })]
        })
    },
    Tl = ({
        value: s,
        percentChange: t,
        isPositive: n,
        className: a
    }) => e.jsxs("div", {
        className: `items-center text-left ${a}`,
        children: [e.jsx("div", {
            className: "text-default font-semibold",
            children: s
        }), e.jsx("p", {
            className: `text-sm truncate ${n?"text-success-default":"text-error-default"}`,
            children: `${n?"+":""}${t}`
        })]
    }),
    on = ({
        onClick: s,
        title: t
    }) => e.jsx(xe, {
        size: "sm",
        variant: "outline",
        startIcon: e.jsx(In, {
            className: "text-current w-4 h-4"
        }),
        className: "",
        onClick: s,
        children: t
    }),
    Qe = ({
        image: s,
        imageFallback: t,
        className: n,
        containerClassName: a,
        alt: r
    }) => e.jsxs("picture", {
        className: a,
        children: [e.jsx("source", {
            srcSet: s,
            type: "image/webp"
        }), e.jsx("source", {
            srcSet: t,
            type: "image/png"
        }), e.jsx("img", {
            src: t,
            alt: r || "Decorative Asset",
            className: n
        })]
    });

function kl() {
    return e.jsx(Ds, {
        children: e.jsxs("div", {
            children: [e.jsx(Bs, {
                title: ""
            }), e.jsx("div", {
                className: "min-h-full justify-center",
                children: e.jsx(En, {})
            })]
        })
    })
}
const Il = u.memo(({
    tokenSymbol: s,
    nativeStakingToken: t,
    balance: n
}) => {
    const a = B(),
        {
            t: r
        } = F(),
        {
            stakeLocationSearch: o
        } = Ln(),
        c = tl("see-new-earn-stake-cta") && t === Ke.ETH,
        i = Ol(n),
        x = El(i),
        m = u.useMemo(() => t === Ke.MATIC ? `tab=${Ze.THIRD_PARTY}` : !c || !i ? o == null ? void 0 : o[Pn.STAKE] : `tab=${i}`, [t, c, i, o]);
    return e.jsx(nt, {
        to: On(void 0, m),
        onClick: h => [h.stopPropagation(), a(Mn(t)), Fn({
            badge_asset: s.toUpperCase(),
            badge_type: "stake",
            location: Dn.PORTFOLIO_ASSET_ITEM
        })],
        className: "px-1.5 py-0.5 hover:text-primary-default",
        children: e.jsxs("span", {
            className: "flex items-center gap-2 font-medium text-sm text-primary-default whitespace-nowrap truncate xs:max-w-none max-w-[5rem]",
            children: [c ? r("stake.earn") + (!O && x ? ` ${Bn(x.toString(),{inputFormat:Vn.PERCENTAGE,outputFormat:Rn.PERCENT_SIGN,fixed:2})}` : "") : r("stake.stake"), e.jsx(Ye, {
                className: "stroke-primary-default stroke-2 h-4 w-4"
            })]
        })
    })
});

function El(s) {
    const t = Ll(),
        n = Pl();
    return s ? s === Ze.VALIDATOR ? t : n : null
}

function Ll() {
    const s = _n(),
        {
            data: t,
            isLoading: n
        } = $n({
            env: s
        });
    return n ? null : typeof t == "number" ? new rt(t) : null
}

function Pl() {
    const {
        stakingChainId: s
    } = Wn(zn, Hn), {
        data: t,
        isLoading: n
    } = Un({
        chainId: s
    });
    if (n) return null;
    const a = (t == null ? void 0 : t.apy) ? ? null;
    return typeof a == "string" ? new rt(a) : null
}

function Ol(s) {
    const {
        isConfirmedEligible: t
    } = Yt(Ze.VALIDATOR), {
        isConfirmedEligible: n
    } = Yt(Ze.POOLED);
    return t && s > 32 ? Ze.VALIDATOR : n ? Ze.POOLED : null
}
const Ml = ({
        token: s,
        balance: t
    }) => {
        const {
            nativeTokens: n
        } = S(Ta(), ee), a = ln(s, n);
        return a ? e.jsxs("span", {
            className: "flex items-center",
            children: [e.jsx(Fl, {}), e.jsx(Il, {
                tokenSymbol: s.symbol,
                nativeStakingToken: a,
                balance: t
            })]
        }) : null
    },
    Fl = () => e.jsx("div", {
        className: "h-1 w-1 rounded-full bg-icon-alternative"
    });

function ln(s, t) {
    return s.chainId !== Ie.ChainId.ETHEREUM ? null : Jt(s.address, Ie.ZERO_ADDRESS) ? t.includes(Ke.ETH) ? Ke.ETH : null : Jt(s.address, qn) ? t.includes(Ke.MATIC) ? Ke.MATIC : null : !1
}
const Dl = 10,
    Bl = ({
        token: s,
        className: t
    }) => {
        var x;
        const {
            nativeTokens: n
        } = S(Ta(), ee), {
            connectedAccountsTokenBalances: a
        } = Gn(), r = ln(s, n), o = a.find(m => m.address === s.address && m.chainId === s.chainId), l = ((x = o == null ? void 0 : o.value) == null ? void 0 : x.marketValue) ? ? 0, c = (o == null ? void 0 : o.balance) ? ? 0, i = l < Dl && r;
        return e.jsxs("td", {
            className: k("sm:w-auto flex items-center col-span-7 lg:col-span-5", t),
            children: [e.jsx(ot, {
                token: s,
                chainId: s.chainId || Ie.ChainId.ETHEREUM,
                className: "mr-4 aspect-square"
            }), e.jsx("div", {
                className: "flex items-center max-w-[6rem] sm:max-w-none",
                children: e.jsxs("div", {
                    className: "flex flex-col mr-2 sm:mr-3",
                    children: [e.jsxs("div", {
                        className: "font-semibold text-default flex items-center",
                        children: [e.jsxs("div", {
                            className: "flex",
                            children: [e.jsx("div", {
                                className: "mr-1.5 uppercase",
                                children: s.symbol
                            }), i ? i && O ? e.jsx(ja, {}) : null : e.jsx(Ml, {
                                token: s,
                                balance: c
                            })]
                        }), e.jsx(Kn, {
                            token: s
                        })]
                    }), e.jsx("div", {
                        className: "text-sm text-alternative truncate sm:max-w-none max-w-[8rem]",
                        children: $(s.name, 18)
                    })]
                })
            }), i && !O ? e.jsx(ja, {}) : null]
        })
    },
    ja = () => e.jsx(We, {
        to: "/buy",
        onClick: s => {
            s.stopPropagation(), lt({
                location: it.TokenTableBadge
            })
        },
        className: "px-2 py-0.5 sm:py-1.5",
        children: e.jsxs("span", {
            className: "flex items-center font-normal text-xxs sm:text-sm",
            children: [e.jsx(ct, {
                className: "stroke-current mr-1 h-2.5 w-2.5 sm:h-4 sm:w-4"
            }), "Buy"]
        })
    }),
    Vl = ({
        chainId: s,
        token: t
    }) => {
        var r;
        const {
            data: n
        } = Zn(), a = o => {
            o.preventDefault(), o.stopPropagation(), n == null || n.watchAsset({
                type: "ERC20",
                options: {
                    symbol: t.symbol,
                    decimals: t.decimals,
                    address: t.address,
                    image: t.iconUrl
                }
            }), Yn({
                chain_id: s,
                token_address: t.address
            })
        };
        return !((r = window.ethereum) != null && r.isMetaMask) || t.address === Ie.ZERO_ADDRESS ? null : e.jsx(Xn, {
            Icon: Qn,
            text: "Add to MetaMask",
            onClick: a
        })
    },
    Rl = () => {
        const s = Je(),
            t = B(),
            {
                accounts: n,
                selectedAccountAddresses: a
            } = te(),
            {
                t: r
            } = F(),
            {
                selectAllActiveNetworksForFiltering: o
            } = Jn(),
            l = S(Be, ee),
            {
                isBitcoinAccountSelected: c
            } = ge(),
            i = a.length === 0,
            x = l.length === 0,
            m = i || x,
            h = u.useCallback(() => {
                let g = "";
                c && (g = `?chainId=${tr}`), s(`/buy${g}`), lt({
                    location: it.TokenTableEmpty
                })
            }, [s]),
            A = u.useCallback(() => {
                er.unstable_batchedUpdates(() => {
                    o();
                    for (const g of n) g.selected || t(sr(g.address))
                })
            }, [o, n, t]);
        return e.jsx(xe, {
            className: "mt-3",
            onClick: m ? A : h,
            "aria-label": r(m ? "home.tokenTable.resetFilters" : "home.tokenTable.buyTokens"),
            children: r(m ? "home.tokenTable.resetFilters" : c ? "home.tokenTable.buyBitcoin" : "home.tokenTable.buyTokens")
        })
    },
    cn = ({
        isHiddenTokensView: s
    }) => {
        const {
            t
        } = F();
        return e.jsx(ye, {
            title: t(s ? "home.tokenTable.noHiddenTokens" : "home.tokenTable.noTokens"),
            icon: e.jsx(Ye, {
                className: "w-6 h-6"
            }),
            subtitle: s ? t("home.tokenTable.noHiddenTokensSubtitle") : void 0,
            button: e.jsx(Rl, {}),
            transparent: !0
        })
    },
    _l = ({
        tokens: s,
        isAccountView: t = !1,
        hiddenTokens: n,
        containerClassName: a
    }) => {
        const r = Je(),
            {
                accounts: o
            } = S(ar, ee),
            l = S(nr),
            c = S(es, ee),
            {
                formatPriceWithCurrency: i,
                exchangeRate: x
            } = Se(),
            m = rr(),
            {
                isBitcoinAccountSelected: h
            } = ge(),
            {
                requestInfo: {
                    isLoading: A,
                    isError: g
                }
            } = Le(ka),
            p = S(Te),
            y = S(Pe),
            {
                t: N
            } = F(),
            {
                showHiddenTokensView: T,
                isHiddenTokensView: d
            } = Ia(),
            b = c.baseCurrency,
            C = c.minimumTokenValue,
            w = O || s.length === 0,
            [v, I] = u.useState(1),
            P = w || O ? 20 : 50,
            R = (v - 1) * P,
            Y = v * P,
            se = ({
                nextPage: j
            }) => {
                I(j)
            };
        u.useEffect(() => () => T(!1), []), u.useEffect(() => {
            K(1), I(1)
        }, [d]);
        const [L, K] = u.useState(1), pe = w || O ? 25 : 50, le = (L - 1) * pe, ie = L * pe, ce = ({
            nextPage: j
        }) => {
            K(j)
        }, ae = [{
            id: "token-header",
            name: N("home.tokenTable.token"),
            className: ve("col-span-7 lg:col-span-5", {
                "xl:col-span-3": o.length > 1 && !t
            }),
            sortId: "name",
            sortSelector: () => j => {
                var _;
                return (_ = j.name) == null ? void 0 : _.toLowerCase()
            }
        }, ...d ? [] : [{
            id: "portfolio-percentage-header",
            name: N("home.tokenTable.portfolioPercentage"),
            className: "hidden xl:table-cell col-span-2",
            sortId: "marketValue",
            sortSelector: () => j => {
                var _;
                return (_ = j.value) == null ? void 0 : _.marketValue
            },
            sortDefault: !0
        }], {
            id: "price-header",
            name: N("home.tokenTable.price"),
            className: ve("hidden lg:table-cell", {
                "col-span-3 xl:col-span-2": !d,
                "col-span-3": d
            }),
            sortId: "price",
            sortSelector: () => j => {
                var _;
                return (_ = j.value) == null ? void 0 : _.price
            },
            ...d && {
                sortDefault: !0
            }
        }, {
            id: "holders-header",
            name: "Holders",
            className: ve("hidden", {
                "xl:table-cell": o.length > 1 && !d,
                "col-span-2": !d,
                "col-span-3": d
            }),
            sortId: "holders",
            sortSelector: () => j => {
                var _;
                return ((_ = j == null ? void 0 : j.accounts) == null ? void 0 : _.length) || 0
            }
        }, {
            id: "balance-header",
            name: N("home.tokenTable.balance"),
            className: "text-right lg:text-left col-span-4 lg:col-span-2",
            sortId: "balance",
            sortSelector: () => j => {
                var _;
                return ((_ = j.value) == null ? void 0 : _.marketValue) * x
            }
        }], be = d && n ? n : s, Z = d && n ? n.slice(R, Y) : s.slice(le, ie), {
            sortType: U,
            sortDirection: Oe,
            handleSort: H,
            sortedData: D
        } = nn({
            defaultValue: d ? "balance desc" : "marketValue desc",
            columns: ae,
            data: Z
        }), X = ({
            className: j
        }) => Oe === "asc" ? e.jsx(rn, {
            className: j
        }) : e.jsx(Ea, {
            className: j
        });
        return e.jsx("div", {
            id: "token-table",
            className: (ve("flex flex-col -mx-4 sm:mx-0"), a),
            children: e.jsxs("div", {
                className: "overflow-visible border-muted rounded-xl",
                children: [d && e.jsxs("div", {
                    className: "pl-6",
                    children: [e.jsx("button", {
                        onClick: () => T(!1),
                        children: e.jsxs("div", {
                            className: "mb-3 text-sm cursor-pointer flex min-w-0 items-center rounded-b-md",
                            children: [e.jsx("div", {
                                className: "text-alternative hover:bg-alternative-hover p-1 flex justify-center rounded-xl",
                                children: e.jsx(dt, {
                                    className: "w-6 h-5"
                                })
                            }), e.jsx("div", {
                                className: "ml-3 text-alternative",
                                children: "Portfolio"
                            })]
                        })
                    }), e.jsx("div", {
                        className: "paddingLeft: '20px' text-xl sm:text-2xl text-default font-bold",
                        children: "Hidden tokens"
                    })]
                }), e.jsxs("table", {
                    children: [e.jsx("thead", {
                        className: ve("border-b border-muted sm:table-header-group hidden grid grid-cols-12", {
                            "!hidden": w
                        }),
                        children: e.jsxs("tr", {
                            className: "grid grid-cols-12",
                            children: [ae.map(j => e.jsx("th", {
                                id: j.id,
                                className: ve(j.className, "cursor-pointer font-normal flex", {
                                    "text-primary-default font-semibold": U === j.sortId
                                }),
                                onClick: H(j.sortId),
                                children: e.jsxs("div", {
                                    id: `${j.id}-data`,
                                    className: "flex items-center gap-1",
                                    children: [j.name, j.id === "token-header" && !d && !h && e.jsx(ss, {
                                        tooltipProps: {
                                            delayHide: 200
                                        },
                                        tooltipText: `Displaying tokens with minimum value of ${ks(C,b)}`,
                                        id: "small-balances-tooltip"
                                    }), U === j.sortId && e.jsx(X, {
                                        className: "w-5 h-5"
                                    })]
                                })
                            }, j.id)), e.jsx("th", {})]
                        })
                    }), e.jsxs("tbody", {
                        className: "sm:divide-y pb-10 divide-muted",
                        children: [A && !g && D.length === 0 && e.jsx(Tt, {}), g && D.length === 0 && e.jsx(al, {}), !g && !A && D.length === 0 ? e.jsx(cn, {
                            isHiddenTokensView: d
                        }) : D.map((j, _) => {
                            var f, M, E, V, Ce;
                            return e.jsxs("tr", {
                                "data-testid": "table-row-component",
                                className: ve("cursor-pointer hover:bg-hover grid grid-cols-12 group"),
                                onClick: () => r(`/networks/${j.chainId}/tokens/${j.coingeckoId}/${j.address}?accountAddress=${j.accountAddress}`),
                                children: [e.jsx(Bl, {
                                    token: j,
                                    className: o.length > 1 && !t ? "xl:col-span-3" : ""
                                }), !d && e.jsx("td", {
                                    className: "whitespace-nowrap hidden xl:table-cell text-default font-semibold col-span-2",
                                    children: e.jsx("div", {
                                        children: p ? J : `${Number(j.value.portfolioPercent).toLocaleString("en-US",{maximumFractionDigits:2})}%`
                                    })
                                }), e.jsx("td", {
                                    className: ve("whitespace-nowrap hidden lg:table-cell", {
                                        "col-span-3 xl:col-span-2": !d,
                                        "col-span-3": d
                                    }),
                                    children: e.jsx(Tl, {
                                        value: i((f = j.value) == null ? void 0 : f.price),
                                        percentChange: `${Number(((M=j.value)==null?void 0:M.pricePercentChange1d)||0).toFixed(2)}%`,
                                        isPositive: ((E = j.value) == null ? void 0 : E.pricePercentChange1d) > 0
                                    })
                                }), e.jsx("td", {
                                    className: ve("whitespace-nowrap hidden", {
                                        "xl:table-cell": o.length > 1 && !d,
                                        "col-span-2": !d,
                                        "col-span-3": d
                                    }),
                                    children: e.jsx(At, {
                                        isOpen: !1,
                                        maxDisplayed: 4,
                                        className: "hidden lg:flex h-full overflow-visible",
                                        size: 6,
                                        children: ((V = j == null ? void 0 : j.accounts) == null ? void 0 : V.map(de => {
                                            const ne = o.find(gs => {
                                                    var as, ns;
                                                    return ((as = de == null ? void 0 : de.accountAddress) == null ? void 0 : as.toLowerCase()) === ((ns = gs.address) == null ? void 0 : ns.toLowerCase())
                                                }),
                                                ze = `${j==null?void 0:j.chainId}-${ne==null?void 0:ne.address}-${j==null?void 0:j.address}`;
                                            return e.jsxs("div", {
                                                "data-tooltip-id": ze,
                                                children: [e.jsx(Ae, {
                                                    accountIdenticonType: y,
                                                    address: de.accountAddress || "",
                                                    avatarUri: ne == null ? void 0 : ne.ensAvatar,
                                                    size: 6
                                                }), e.jsx(je, {
                                                    id: ze,
                                                    children: (ne == null ? void 0 : ne.ensName) || $(de.accountAddress, 18)
                                                })]
                                            }, ze)
                                        })) || []
                                    })
                                }), e.jsx("td", {
                                    className: "px-3 sm:px-6 whitespace-nowrap sm:w-auto col-span-3 lg:col-span-2",
                                    children: e.jsx("div", {
                                        className: "items-center text-right md:text-left max-w-[9rem] sm:w-[9rem] lg:max-w-none",
                                        children: e.jsx(St, {
                                            formattedMarketValue: p ? J : i((Ce = j.value) == null ? void 0 : Ce.marketValue),
                                            balance: p ? J : Number(j.balance).toLocaleString("en-US", {
                                                maximumFractionDigits: 4
                                            }),
                                            symbol: p ? "" : j.symbol
                                        })
                                    })
                                }), e.jsx("td", {
                                    className: "sm:px-6 w-6 sm:w-auto col-span-1",
                                    children: e.jsx("div", {
                                        className: "flex items-center justify-center h-full",
                                        children: e.jsx("div", {
                                            className: "md:hidden group-hover:block relative",
                                            children: l && or(j.chainId) ? e.jsx(e.Fragment, {}) : O ? e.jsx(lr, {
                                                token: j
                                            }) : d ? e.jsx(ea, {
                                                token: j,
                                                children: () => e.jsxs(e.Fragment, {
                                                    children: [e.jsx(sa, {
                                                        token: j
                                                    }), e.jsx(ta, {
                                                        token: j
                                                    })]
                                                })
                                            }) : e.jsx(ea, {
                                                token: j,
                                                children: de => e.jsxs(e.Fragment, {
                                                    children: [j.chainId && m.includes(j.chainId) && e.jsx(sl, {
                                                        token: j
                                                    }), e.jsx(ir, {
                                                        token: j
                                                    }), e.jsx(cr, {
                                                        className: "flex-none my-0.5"
                                                    }), e.jsx(sa, {
                                                        token: j
                                                    }), e.jsx(ta, {
                                                        token: j
                                                    }), e.jsx(dr, {
                                                        token: j,
                                                        closeMenu: de
                                                    }), e.jsx(mr, {}), e.jsx(Vl, {
                                                        token: j,
                                                        chainId: j.chainId
                                                    }), e.jsx(ur, {
                                                        address: j.address
                                                    }), e.jsx(xr, {
                                                        address: j.address,
                                                        urlType: hr.TOKEN,
                                                        chainId: j.chainId ? ? 1,
                                                        tokenSymbol: j.symbol
                                                    })]
                                                })
                                            })
                                        })
                                    })
                                })]
                            }, `${j==null?void 0:j.chainId}-${j.accountAddress}-${j.address}-${j.symbol}-${_}`)
                        })]
                    })]
                }), d ? e.jsx(_e, {
                    totalCount: be.length,
                    currentPage: v,
                    pageSize: P,
                    onChange: se,
                    className: ve({
                        "!py-3": w
                    })
                }) : e.jsx(_e, {
                    totalCount: be.length,
                    currentPage: L,
                    pageSize: pe,
                    onChange: ce,
                    className: ve({
                        "!py-3": w
                    })
                })]
            })
        })
    },
    Ft = _l,
    $l = ({
        accountValues: s,
        dropdownListClassName: t,
        dropdownSelectorClassName: n
    }) => {
        var I;
        const {
            t: a
        } = F(), r = B(), {
            requestInfo: {
                isLoading: o
            }
        } = Le(fr), [l, c] = u.useState(!1), i = u.useRef(null), {
            allNetworks: x,
            selectedNetworkObjects: m,
            pendingActiveNetworkObjects: h,
            pendingInactiveNetworkObjects: A,
            selectedNetworks: g,
            toggleNetworksToPendingActive: p
        } = pr(), y = mt();
        Ee(i, () => {
            c(!1), r(La())
        });
        const N = m.length === 3 ? 3 : 2,
            T = m.length === 4 ? 4 : 3,
            d = O ? N : T,
            b = qs ? "fixed right-auto overflow-auto" : "fixed sm:max-h-96 sm:absolute sm:w-max sm:left-auto sm:right-0 m-x-3",
            C = P => P.supportedFeatures.includes(y),
            w = h.filter(C),
            v = g.filter(P => w.some(R => R.chainId === P));
        return e.jsxs("div", {
            id: "networks-multi-dropdown",
            ref: i,
            className: "relative sm:inline-block text-left",
            children: [e.jsx("div", {
                children: e.jsx($e, {
                    className: k("group py-2.5", n),
                    onClick: () => {
                        gr({}), c(!l)
                    },
                    isOpen: l,
                    status: o ? "loading" : void 0,
                    startIcon: e.jsx(At, {
                        className: "hidden xl:flex",
                        isOpen: l,
                        maxDisplayed: d,
                        size: O ? 6 : 5,
                        children: w.filter(P => g.includes(P.chainId)).map(P => e.jsx("img", {
                            src: P.iconUrl,
                            alt: P.chainShortName
                        }, P.chainId))
                    }),
                    value: e.jsx("span", {
                        className: k({
                            "py-0.5": g.length === 0,
                            truncate: g.length !== 0
                        }),
                        children: x.length === g.length ? a("home.allNetworks") : v.length === 1 ? `${(I=x.find(P=>P.chainId===v[0]))==null?void 0:I.chainShortName} Network` : `${v.length} Networks`
                    })
                })
            }), e.jsx(tt, {
                isOpen: l,
                className: k(`${b} overflow-y-auto overflow-x-hidden hide-scrollbar inset-x-3 max-h-72 py-0 divide-y border-default`, t),
                children: e.jsxs("div", {
                    className: "min-w-[330px]",
                    children: [e.jsx(jr, {
                        networks: h,
                        accountValues: s
                    }), A.length > 0 && e.jsx(Nr, {
                        networks: A,
                        toggleNetworksToPendingActive: p
                    }), e.jsx("div", {
                        className: "border-t border-default",
                        children: e.jsx(nt, {
                            to: "/settings/networks",
                            className: "hover:no-underline",
                            children: e.jsxs("div", {
                                className: "text-sm bg-default hover:bg-default-hover text-alternative cursor-pointer px-4 sm:px-6 py-4 flex min-w-0 items-center rounded-b-md",
                                children: [e.jsx("div", {
                                    className: "flex justify-center rounded-md mr-3",
                                    children: e.jsx(ct, {
                                        className: "text-primary-default h-4 w-4"
                                    })
                                }), e.jsx("div", {
                                    className: "text-primary-default font-semibold",
                                    children: a("home.networkSettings")
                                })]
                            })
                        }, "networkSettings")
                    })]
                })
            })]
        })
    },
    dn = $l;

function mn({
    account: s,
    chainId: t,
    accountIdenticonType: n
}) {
    const {
        blockExplorerUrl: a
    } = we[t || 1], [r, o] = u.useState(!1);
    if (!s) return null;
    const {
        address: l,
        name: c
    } = s;
    return e.jsx(aa, {
        className: "relative",
        onMouseEnter: () => o(!0),
        onMouseLeave: () => o(!1),
        children: () => e.jsxs(e.Fragment, {
            children: [e.jsxs("div", {
                className: "flex items-center space-x-3 bg-default rounded-full px-3 py-2 font-medium",
                children: [e.jsx("div", {
                    children: l && e.jsx(Ae, {
                        accountIdenticonType: n,
                        address: l,
                        avatarUri: s == null ? void 0 : s.ensAvatar,
                        size: 6,
                        className: "rounded-full flex-shrink-0"
                    })
                }), e.jsx("div", {
                    className: "text-sm",
                    children: $(Xe(c), O ? 12 : 15)
                })]
            }), r && e.jsxs(aa.Panel, {
                static: !0,
                className: "flex items-center space-x-3 absolute left-1/2 z-10 -translate-x-1/2 transform p-4 bg-default rounded-md shadow-md",
                children: [e.jsx("div", {
                    children: l && e.jsx(Ae, {
                        accountIdenticonType: n,
                        address: l,
                        avatarUri: s == null ? void 0 : s.ensAvatar,
                        size: 6,
                        className: "rounded-full flex-shrink-0"
                    })
                }), e.jsxs("div", {
                    className: "text-sm space-y-1",
                    children: [e.jsxs("div", {
                        className: "flex items-center font-medium whitespace-nowrap space-x-2",
                        children: [e.jsx("div", {
                            children: $(Xe(c), O ? 12 : 15)
                        }), e.jsx("div", {
                            children: e.jsx("a", {
                                href: `${a}/address/${l}`,
                                target: "_blank",
                                className: "text-icon-default hover:bg-hover p-1 rounded-full flex",
                                children: e.jsx(Is, {
                                    className: "text-icon-default w-4 h-4"
                                })
                            })
                        })]
                    }), e.jsx("div", {
                        className: "text-sm",
                        children: Xe(l)
                    })]
                })]
            })]
        })
    })
}

function ys({
    transaction: s,
    token: t,
    accounts: n
}) {
    const {
        transactionCategory: a,
        fromAddress: r,
        toAddress: o,
        accountAddress: l
    } = s, c = l === r, i = S(Pe), x = c ? n == null ? void 0 : n.find(h => h.address === o) : n == null ? void 0 : n.find(h => h.address === r), m = h => h.isFromTransfer && h.toAddress ? h.toAddress : !h.isFromTransfer && h.fromAddress ? h.fromAddress : h.transactionCategory === "CONTRACT_CALL" && h.contractAddress ? h.contractAddress : Ie.ZERO_ADDRESS;
    return e.jsxs("div", {
        className: "flex items-center space-x-3",
        children: [t != null && t.iconUrl ? e.jsx(ot, {
            chainId: t.chainId,
            token: t,
            hideNetwork: !0
        }) : e.jsx(Ae, {
            accountIdenticonType: i,
            address: m(s),
            size: 8,
            className: "w-8 h-8 sm:w-10 sm:h-10 rounded-full flex-shrink-0"
        }), e.jsxs("span", {
            className: "flex flex-col min-w-0",
            children: [e.jsx("span", {
                className: "text-default font-medium truncate",
                children: t != null && t.symbol ? t.symbol : c ? "To" : "From"
            }), e.jsx("span", {
                className: "text-alternative text-sm",
                children: c ? s != null && s.toAddressName ? ls(s.toAddressName) : x ? $(x.name, 15) : o ? $(Xe(o), 15) : a === "CONTRACT_CALL" && (s != null && s.contractAddress) ? `Contract Created (${$(s.contractAddress,15)})` : "-" : s != null && s.fromAddressName ? ls(s.fromAddressName) : x ? $(x.name, 15) : $(Xe(r), 15)
            })]
        })]
    })
}
const Cs = e.jsx("div", {
        className: "mx-1 sm:mx-2 text-sm",
        children: e.jsx(Fa, {})
    }),
    As = s => `${s.tokenId}-${s.createdAt}-${s.chainId}`,
    Wl = (s, t) => s.filter(n => n.fromAddress.toLowerCase() === t.toLowerCase()).filter(n => n.tokenAddress),
    Ul = ({
        transaction: s,
        account: t,
        nfts: n,
        accounts: a,
        tokenMetadata: r,
        accountIdenticonType: o
    }) => {
        const l = B(),
            {
                nativeCurrency: c,
                blockExplorerUrl: i,
                iconUrl: x
            } = we[s.chainId || 1],
            {
                chainId: m,
                transactionHash: h,
                timestamp: A,
                accountAddress: g,
                subTransactions: p,
                value: y,
                status: N,
                object: T
            } = s,
            d = y !== 0 && y !== "0" && T === "transaction" ? [s] : [],
            b = p != null && p.length ? p.filter(L => L.toAddress.toLowerCase() === t.address.toLowerCase()) : [],
            C = p != null && p.length ? Wl(p, t.address) : [],
            w = s.isFromTransfer ? C.concat(d) : C,
            v = !br(w),
            I = vr(s),
            P = g === (s == null ? void 0 : s.fromAddress) || v,
            R = (s == null ? void 0 : s.transactionCategory) && ls(s.transactionCategory, P),
            se = u.useMemo(() => {
                const L = "w-4 h-4 text-alternative",
                    K = P ? e.jsx(na, {
                        className: L
                    }) : e.jsx(ga, {
                        className: L
                    });
                return {
                    [re.Contract]: e.jsx(hl, {
                        className: L
                    }),
                    [re.TokenTransfer]: K,
                    [re.NFTTransfer]: K,
                    [re.Send]: e.jsx(na, {
                        className: L
                    }),
                    [re.Receive]: e.jsx(ga, {
                        className: L
                    }),
                    [re.Swap]: e.jsx(wr, {
                        className: L
                    }),
                    [re.Approve]: e.jsx(ut, {
                        className: L
                    })
                }
            }, [P])[I];
        return e.jsx(Ne, {
            id: `${h}-${g}-${m}`,
            className: "py-4 -mx-4 sm:-mx-6 px-4 sm:px-6 hover:bg-hover cursor-pointer sm:border-b last:border-none border-muted",
            onClick: L => {
                L.stopPropagation(), yr({
                    transaction_hash: h
                }), l(he(fe.TransactionDetail, {
                    transaction: s,
                    transactionType: I,
                    transactionLabel: R,
                    sentTxs: w,
                    receivedTxs: b,
                    nfts: n,
                    account: t,
                    tokenMetadata: r
                }, O ? xt : {
                    content: {
                        width: "60%",
                        maxWidth: "900px",
                        maxHeight: "95%"
                    }
                }))
            },
            children: e.jsxs("div", {
                className: "flex items-center",
                children: [e.jsx(Vs, {
                    id: `network-icon-${m}`,
                    avatar: e.jsx("div", {
                        className: "rounded-full bg-alternative border border-muted flex w-8 h-8 items-center justify-center",
                        children: N === 2 ? e.jsx(Pa, {
                            size: "xs"
                        }) : N === 0 ? e.jsx(Cr, {
                            className: "w-4 h-4 text-error-default"
                        }) : se
                    }),
                    className: "hidden sm:block",
                    badgeIcon: e.jsx("img", {
                        alt: "",
                        src: x
                    }),
                    badgePosition: "topLeft"
                }), e.jsxs("div", {
                    className: "overflow-y-visible overflow-x-auto sm:overflow-x-visible whitespace-nowrap text-ellipsis md:flex flex-wrap flex-1 md:justify-between lg:grid grid-cols-12 gap-4 lg:gap-5 xl:gap-6 items-center sm:pl-4",
                    children: [e.jsxs("div", {
                        className: "flex items-center space-x-4 mb-1 sm:mb-0 col-span-4 2xl:col-span-3",
                        children: [e.jsxs("div", {
                            className: "text-default flex md:block mb-1 sm:mb-0",
                            children: [e.jsxs("div", {
                                className: "flex",
                                children: [e.jsxs("div", {
                                    className: "flex xl:hidden items-center pr-2 -space-x-1 sm:space-x-0",
                                    children: [(s == null ? void 0 : s.accountAddress) && e.jsx(Ae, {
                                        accountIdenticonType: o,
                                        address: s == null ? void 0 : s.accountAddress,
                                        avatarUri: t == null ? void 0 : t.ensAvatar,
                                        size: 4,
                                        className: "rounded-full flex-shrink-0 ring-muted ring-2 hover:-translate-y-2 transition-transform"
                                    }), e.jsx("img", {
                                        className: "block sm:hidden w-4 h-4 rounded-full object-cover ring-muted ring-2 hover:-translate-y-2 transition-transform",
                                        src: x,
                                        alt: ""
                                    })]
                                }), e.jsxs("div", {
                                    className: "font-semibold whitespace-nowrap shrink",
                                    children: [(s == null ? void 0 : s.transactionCategory) && ls(s.transactionCategory, P), e.jsx("span", {
                                        className: "ml-1 font-normal text-alternative truncate hidden sm:inline-flex",
                                        children: (s == null ? void 0 : s.transactionProtocol) && ls(s == null ? void 0 : s.transactionProtocol)
                                    })]
                                })]
                            }), e.jsx("div", {
                                className: k("ml-4 sm:ml-0 text-alternative whitespace-nowrap"),
                                children: e.jsx("div", {
                                    className: "flex",
                                    children: Oa({
                                        timestamp: A * 1e3,
                                        timeOnly: !0
                                    })
                                })
                            })]
                        }), e.jsx("div", {
                            className: "flex items-center text-icon-default space-x-1",
                            children: e.jsx(Ma, {
                                id: "transaction-list",
                                valueToCopy: h,
                                content: "Copy transaction ID to clipboard"
                            })
                        })]
                    }), e.jsx("div", {
                        className: "overflow-visible justify-start items-center 2xl:col-span-2 hidden 2xl:flex",
                        children: e.jsx(mn, {
                            account: t,
                            accountIdenticonType: o
                        })
                    }), e.jsxs("div", {
                        className: "col-span-7 2xl:col-span-5 sm:flex-1 hidden lg:flex truncate",
                        children: [(I === re.Swap || I === re.TokenTransfer) && e.jsxs("div", {
                            className: "flex sm:flex-1 sm:justify-start items-center space-x-2 sm:space-x-4",
                            children: [w.map(L => e.jsx(Ns, {
                                transaction: s,
                                subTx: L
                            }, As(L))), b.length === 0 || w.length === 0 ? null : Cs, b.map(L => e.jsx(Ns, {
                                transaction: s,
                                subTx: L
                            }, As(L)))]
                        }), I === re.NFTTransfer && e.jsxs("div", {
                            className: "flex sm:hidden xl:flex xl:flex-1 sm:justify-start items-center space-x-2 sm:space-x-4",
                            children: [w.map(L => e.jsx(ra, {
                                transaction: s,
                                subTx: L,
                                nfts: n
                            }, As(L))), b.length === 0 || w.length === 0 ? null : Cs, b.map(L => e.jsx(ra, {
                                transaction: s,
                                subTx: L,
                                nfts: n
                            }, As(L)))]
                        }), I === re.Receive && e.jsxs("div", {
                            className: "flex sm:flex-1 sm:justify-start items-center space-x-4",
                            children: [e.jsx(ys, {
                                transaction: s,
                                accounts: a
                            }), Cs, e.jsx(Ns, {
                                transaction: s
                            })]
                        }), I === re.Send && e.jsxs("div", {
                            className: "flex sm:flex-1 sm:justify-start items-center space-x-2 sm:space-x-4",
                            children: [e.jsx(Ns, {
                                transaction: s
                            }), Cs, e.jsx(ys, {
                                transaction: s,
                                accounts: a
                            })]
                        }), I === re.Approve && e.jsx("div", {
                            className: "flex sm:flex-1 sm:justify-start items-center space-x-2 sm:space-x-4",
                            children: e.jsx(ys, {
                                transaction: s,
                                accounts: a,
                                token: r == null ? void 0 : r.find(L => L.address === s.toAddress)
                            })
                        }), I === re.Contract && e.jsx("div", {
                            className: "flex sm:flex-1 sm:justify-start items-center space-x-2 sm:space-x-4",
                            children: e.jsx(ys, {
                                transaction: s,
                                accounts: a
                            })
                        })]
                    }), e.jsxs("div", {
                        className: "hidden sm:flex items-center justify-end space-x-2 sm:space-x-4 col-span-1 2xl:col-span-2",
                        children: [((s == null ? void 0 : s.gasFeeUsd) || (s == null ? void 0 : s.gasFeeEth)) && P && e.jsxs("div", {
                            className: "text-icon-default hidden 2xl:block",
                            children: [e.jsxs("div", {
                                className: "flex items-center space-x-1",
                                children: [e.jsx("div", {
                                    children: s != null && s.gasFeeEth ? new rt(s.gasFeeEth).toFixed(3) : "-"
                                }), e.jsx("div", {
                                    children: c.symbol
                                }), e.jsx("div", {
                                    children: e.jsx(Ar, {
                                        icon: Sr.faGasPump,
                                        size: "sm",
                                        className: "text-icon-default"
                                    })
                                })]
                            }), e.jsx("div", {
                                children: s != null && s.gasFeeUsd ? ks(s.gasFeeUsd) : "-"
                            })]
                        }), e.jsx("a", {
                            href: `${i}/tx/${h}`,
                            target: "_blank",
                            onClick: L => L.stopPropagation(),
                            className: "text-icon-default hover:bg-hover p-2 rounded-full flex",
                            children: e.jsx(Is, {
                                className: "text-icon-default w-5 h-5"
                            })
                        })]
                    })]
                }), e.jsx("div", {
                    className: "block sm:hidden",
                    children: e.jsx("a", {
                        href: `${i}/tx/${h}`,
                        target: "_blank",
                        onClick: L => {
                            L.stopPropagation(), Tr({})
                        },
                        className: "text-icon-default hover:bg-hover p-2 rounded-full flex",
                        children: e.jsx(Is, {
                            className: "text-icon-default w-4 h-4"
                        })
                    })
                })]
            })
        })
    },
    Hl = ({
        handleRefresh: s
    }) => {
        const {
            t
        } = F();
        return e.jsx(ye, {
            title: t("home.transactions.noTransactions"),
            icon: e.jsx(Ye, {
                className: "w-6 h-6"
            }),
            button: e.jsx(xe, {
                className: "mt-2",
                onClick: s,
                children: t("home.refresh")
            }),
            transparent: !0
        })
    },
    zl = ({
        accounts: s,
        transactions: t,
        nfts: n,
        isLoading: a
    }) => {
        const r = B(),
            [o, l] = u.useState(1),
            {
                tokenMetadata: c
            } = S(Da),
            i = S(Pe),
            {
                newTxHistory: x
            } = ht(),
            m = O ? 20 : 25,
            h = o * m,
            A = h - m,
            g = t.slice(A, h),
            p = ms(g, d => Oa({
                timestamp: d.timestamp * 1e3,
                dateOnly: !0
            })),
            y = kr(t);
        u.useEffect(() => {
            (t == null ? void 0 : t.length) !== (y == null ? void 0 : y.length) && T({
                nextPage: 1
            })
        }, [t, y]);
        const N = u.useCallback(() => {
                s.length && s.forEach(d => {
                    r(Ba(d.address, x))
                })
            }, [s, x, r]),
            T = ({
                nextPage: d
            }) => {
                l(d), Ir({
                    page_index: d
                })
            };
        return e.jsx("div", {
            id: "transaction-list",
            className: "rounded-2xl py-2",
            children: a ? [1, 2, 3].map(d => e.jsx("div", {
                className: "last:shadow-none dark:shadow rounded-md p-4 w-full mx-auto",
                children: e.jsx(ds, {})
            }, `transaction-list-${d}`)) : Object.entries(p).length > 0 ? e.jsxs("div", {
                children: [Object.entries(p).map(([d, b]) => e.jsxs("div", {
                    className: "relative border-muted",
                    children: [e.jsx("div", {
                        className: "top-0 font-medium text-sm py-4",
                        children: e.jsx("div", {
                            className: "text-sm text-alternative",
                            children: d
                        })
                    }), e.jsx("div", {
                        className: "relative",
                        children: b.map((C, w) => {
                            const {
                                accountAddress: v,
                                transactionHash: I
                            } = C, P = s.find(R => R.address === v);
                            return e.jsx(Ul, {
                                account: P || {
                                    address: v,
                                    name: v,
                                    readOnly: !0
                                },
                                transaction: C,
                                nfts: n,
                                accounts: s,
                                tokenMetadata: c,
                                accountIdenticonType: i
                            }, `${I}-${v}-${w}`)
                        })
                    })]
                }, d)), e.jsx(_e, {
                    totalCount: t.length,
                    pageSize: m,
                    currentPage: o,
                    onChange: T
                })]
            }) : e.jsx(Hl, {
                handleRefresh: N
            })
        })
    },
    ql = ({
        setHiddenTxCount: s,
        showAllTransactions: t
    }) => {
        const n = B(),
            {
                transactions: a,
                status: r
            } = S(Va),
            {
                isHiddenTransactionsView: o
            } = Ra(),
            {
                hiddenTokensSet: l
            } = Ia(),
            {
                suspiciousNftsSet: c
            } = Ve(),
            {
                nonSuspiciousNftSet: i
            } = _a(),
            {
                tokenMetadata: x
            } = S(Da),
            {
                nfts: m
            } = S(Rs, ee),
            {
                newTxHistory: h
            } = ht(),
            {
                newAccounts: A,
                selectedAccountAddresses: g,
                accounts: p
            } = te(),
            y = S(Be, ee),
            {
                exchangeRates: N
            } = S(es),
            T = y.includes(Ie.ChainId.GNOSIS);
        u.useEffect(() => {
            A.length && A.forEach(w => {
                n(Ba(w.address, h))
            })
        }, [n, A, h]), u.useEffect(() => {
            A.length && m.length === 0 && A.forEach(w => n(_s(w.address, N, T)))
        }, [n, m, A, N, T]);
        const d = r === Er.Loading,
            b = u.useMemo(() => a.filter(w => g.includes(w.accountAddress) && y.includes(w.chainId)).sort((w, v) => v.timestamp - w.timestamp), [g, y, a]),
            C = u.useMemo(() => Lr({
                transactions: b,
                nonSuspiciousNftSet: i,
                hiddenTokensSet: l,
                suspiciousNftsSet: c,
                tokenMetadata: x
            }), [l, i, b, c, x]);
        return u.useEffect(() => {
            if (b.length) {
                const w = b.length - C.length;
                s(w)
            }
        }, [C.length, b.length, s]), e.jsx("div", {
            id: "activity-tab",
            children: e.jsx(zl, {
                accounts: p,
                transactions: o || t ? b : C,
                nfts: m,
                isLoading: d
            })
        })
    },
    Dt = ql,
    Gl = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAA+CAYAAACIll2bAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAxXSURBVHgB7VxrjF1VFf7WnTMthYo8A0Iwpakv4IcBgyIxICSIfzTRYCAY0QiCYgpGCQiUlxSDPIzlFTCgaOyfommRKCFQRwjU1BQIP0rio1ZoS9/TmXY6d+beexbrnHvOvmu/zr135k5/sZLbs/fae6+99tprfXudxxT4gD6g2RDhENOTT/JJaQ3fAuNsruEouf5ftPjr976NVaIO4xDSokV82FgTX2fChTXGR2XyOmp4tt7CXya30paszyEz0CWX8NAFF2NZbQhLxShHu+2c4g/TE/jB0qU0jkNARy7iLw2lWCa6nBto3iz8r45uobcSzDkxPfoUvjEE3C07tCRN29xsZyx3IVw+vBCTUroKc0jHLeaPp008ghQX5rM6LsKiFBEWSfG5hSfyWXPqQSt+w19IGL+QST+XKZIHELWVyOtoGynj51fKPem0a6+ktzFgWriEj5/XwD1SvFx+C/QGlUZgp1wj3DUnHvTQ4/xJDGG57NLXWlAzhq6aODfeNVK6DgOiY47hI2khrqEGbhPxR5iN4fZVG6pWbl5WRr5Z3xmogVY8xceLUZbKHDdKdRgzgVzCCRgAnXYaz9t1EJeJCrdI9WNt0Woa0lNG+ISTBmKgO+7g2tGn4Pq0hZukejxmRzXMkk5YzBeKcZZJ8bxZYsjQLA3E9Ktf4ystxvJWC6d7wDsTmsWKjlrEi+YDj0iYfJloMCf0jA304GN8dkq4p5GdBhrZALdqB7rXaHfhGVhYDHPUfMKdUrxSBB3eNZsK6UDhet8G+vmjvFjA7LZmDVcYZkyh8lhII0qE+vZBxyzhI4dbuIJquF3GH2tEUXhP4PDYxSGyVcnaezaQGOZoGXWdGOcmGTifY9Y3Zzec2VQ9NKbP+BScuUw85WZBrDOMDCXOYXltsXZ3fFcDZQB82Am4WnS/TUacmDlDeUQaUgszbazsxHa+U46hwPhudPISPicVzJPiF80qqsaHQqeXOXsJsZ89xucL2D0sIHy6K7RKPvdQjsqIbOtxn+CT5qW4X4xzqYQUWQYnNbQMEy6O7Dzjgx/CZOMduXFI7UvQQMsf5zPllmC59Lg4E8I6bDgAFxGAC9Zj5VI3x0CLF/OHJzOMSQWAgQ+RY4xomLhxRhV9vIZOu2WgWx/iU5Mh/LDZwo8skYHsl8t/XBBGUSenXbt2FS4VsjIAPryGS6cktIV9sruWEMyhx3o/VBiI6c5H8gx4mXjMsaET2dpsPWNa3EMVZZPKKyPp1L4cbvhKXnk8n/IpPqOV4rcy5iyjh7Niw2Pfm8lRWPftmTQG3fow7hWcucHtU4UfLjBrPjt9OCKD4Y97bys+I+H9Ri3TrUsIeGWXRxXjeqHM2Hc8xOc3gb9hFmSSPMzclVGM/9PvgAP7MTfUr4KZB00zrnUw2CLDi7hoFl6p9qZeXJnsI78c8q+NLMaheGjDx3ggjv9ahtEtrE70RE1kcZ83CjtS2Yl1XS/DivSpRgX2lPLJ2TS28UfL2TPWwKZNmXGSDrY4Vy1X60m67KA3qcVSyJKKZRWK9kSMcoRW3Dt23boaDGVUl18uPubVWu6oPBjesWcaafOwDsirq1mgoweRXQ7xtFqWjIBSlvcV7UnaQtyPQ+hKAV5oZ9hv9mSIt00cTLFdjMNpm2nlOejkeDERukwV7dEw6tIvSQtF3Rb9eFSHig4hjSXBNqDzeJUVPhWuP9VgbNk+lWNYrhzZIa0Vtyoxi3F3A/RCWoekxbBetjA7uALAO6Ic9DRpvZahZyw3IO24/rQYZ+s2MU7aFsYG1JzQiq4AHiiHxvTiOVXzJOwApxVZrmSOlAN9Y2OzORq5cabRbGTsWsFvO7gbYj2sIVj2+jCqhYYcAO1TLAgr/ZAFbhXzZiS3MXhvWwONqYiMHizTba3BMQ7Ie0Ii5Y4HDYC4Cz+ba/v2Bur1sElLHDKD3Bgq+BTYaTdrhxquwdfcFhH897gaNgqDJqkGY/gLc0EzxLP4gfWV1707W5iccHpachx+gMVddt1dQ+VpF3JDR077FFNg6w4q8UnvZF5MA30dq7C67tuTYv9YCy4pbG5fu8ROl+aBU9uDSiXJV9gLBgeoXU+BC/pyHR9NMb63nXD5YWjvirW7ITeMjuxCFXKCvIISdo54PbmrDBBWkJ0+mj8xJsbZ3ap4W0FeVeNFyWPVViWhygalHCvbLsdFUofcg/raCYfcZ2V64vpBxr5daZFAViFUVmIDpm7vUL0bL7Ye6rNsMKjqBAqGmwL2kIEb0wLK21oB4+i6r5Y5ZZx5QzrojyAM7qHisEF8ndZ8Sq6VKHZm9ifQUjRwm7BSGjTFOKNinLQVBxKiMnsmtVpbUVNXOpHLdwZRYNX6OO8lUrTcpHyNUy7Oo/D6wu1CLXn6tk+M02q4KpUATcoeCgy440FhrdE3WSlJr30dyu/F3JMpODrWpvgsB9W+LSmaWZZMKga97sGA6RSrKLYSl88IvsqJETn9yk20jvlu5CI8VD3Dmv3bOL+FIC6Blypll88OtTfFME0N6o1PjtLBjQqHpFkj9WmgKprYyZg+yAqXCs24BAEHcsUq7hPM3GTuMe+K4M4QtaYOQLOPBtbjmpizFnOUc5VtPkjrWXvhCdV3M+pjxezKPTsYo1TxHhUWlLbZ3odNbncKOws7/dXsJn3I+tQQznks2WqTEuuBux4UOMLdZC/j1/e0f51OJGvlMEywszi25y2VUxfTwQVvz0hdMEaP8Q4/FwpJexAQzaC7YfPUPmBydyGZtaLFiaWepFl46Ry7ZlMoskb3uWvMu/vwet1mPQpxPLidSbPfaMiFj6Jfc1w8Zyc6qbTTxazYwQx2kN66wQ14CvQ42AsJIJvHtwf5elJgU7Q9k+y7ZaZAi+t2itK6eM42WJm01sX1EEucAlFjPDd0yR4DDiyYi69S9TxleARCBnGWZ2lzOAC7kyZ3CV3XOJIlT70L84Ceq7tH61GvdxZjF+A1Bj2FArwqFoVliC5rrEeuIbKAWxLBqXek3EBPVBX+syKC/W1QiX9kn8ix+YNe73dLBaAfMDeryq3MoKKpPbEYpbFFrtPh2OfqyQyFvL84fqfEK0dlrhPRC1UAK0Je6A+vqh+U+lWvr6O3a5kHlb9WAdh5GW38zerZ/VVDMCedLEKr6MfcKSNSdn+BflPiDU9jCKc363ghP4wI1jsyXdc/ABbIWmOpE67kyoi05doQ1g4lOOfNdbQyY5hn0lYGqsA3N9h2uR5Q9h1U3NTwvIi6d+QZGsmqnz6XPd8n1z3t5k6/yBRU4SrWV2iM16V+15uv4Vmo+3+TKHqhUVZ2SHEU8RQA8AVQpE+H3hVP/O7f1+BF0ZJDC7JOmtDRPTjaK0Fx99g8PLZ5hOpuY2LCJDT7LuHvKcohQ7IPjIaPoP12Uw037BzCyo2raDrmEVVfb7h8jm1KAIeclxJZaK9o7sedb71FE4iQCTG4uUtmmF3OpEDwExkLbUuwVwpKn3FhPShvfO7bsJoOIkJ5XlNiQylLH+c6JMpiMZ9+EhkyPHf6yntdrB6u4cb1L9P/0IWSFuC9QKP98tsJzyusCd3QKeupxWNR6pdJDY+uXU3/RQ8UOplM3cMBuy91kStDX5Z/bnzjVfoHeiTvzSrJ85zalvZpRdorAJMGmC8+GP63yqX3MF4YZixb+2dajz7I+ggCgRQiAMiB6LPLjE1S/vHrr2AN+vy72PYTxVKQ5DjDm9E5ysteqa+ReSlY1MvO0nVjkuDakdXtk6kfEnyyv0pje5OMEzGCd/clX53E43JS3s778cSGDfHQrqJOoii5zrzNUm7A3gJEyr67b5Pd/WlyACtHRjJpMyAnVHSuYnWj4DDNr0v5qXQYN294kcYwC2rfarQK40zbJ5SngeZ3Xj2P8xAeqH8E9294Yma7pKnbq+culN1arkmAm9aN0H8wAMpCbGo4+0PsegfpyxtR9wNxKOzJ6zU8jAW479VV9A4GQEOESQtv+hgrOq2XQbf8cwQv9YszVZQZ6M35E7jI5C5sTWqonDIH9WG8wgvwk3Wr+gPgbiQh+procLWZ02oEIsnqHq7h++tfwjNEg/+PCWriLStS//7I++X3ZMP4d3M+LnrtOZw3aONkVB/GH2Wu0VBbIPSyfrcnDZy6fi2tmgvj5PNm+3bmN/H7BTtwOfuNOQnY7eAEy8bn4+k8A55D+uwFfJHM+zziac206LmyWcP1swXgXuh90zXrB188FsQAAAAASUVORK5CYII=",
    Bt = u.createContext({
        category: Es.Owned,
        filter: G.Shown
    }),
    Kl = ({
        id: s,
        nft: t
    }) => {
        const [n, a] = u.useState(!1), r = u.useRef(null);
        return Ee(r, () => a(!1)), e.jsxs("div", {
            id: `nft-context-menu-${s}`,
            ref: r,
            children: [e.jsxs("div", {
                className: "hidden group-hover:block",
                children: [e.jsx(ft, {
                    className: "text-icon-alternative w-4 h-4 hover:text-icon-default outline-none",
                    "data-tooltip-id": `tooltip-${s}`,
                    onClick: o => {
                        o.preventDefault(), o.stopPropagation(), a(!n), Pr({})
                    }
                }), e.jsx(je, {
                    id: `tooltip-${s}`,
                    content: "More options"
                })]
            }), e.jsx(Ue, {
                as: u.Fragment,
                show: n,
                enter: "transition ease-out duration-100",
                enterFrom: "transform opacity-0 scale-95",
                enterTo: "transform opacity-100 scale-100",
                leave: "transition ease-in duration-75",
                leaveFrom: "transform opacity-100 scale-100",
                leaveTo: "transform opacity-0 scale-95",
                children: e.jsxs("div", {
                    onMouseLeave: () => a(!1),
                    className: "absolute z-10 hover:z-10 w-screen text-sm right-0 sm:w-max mt-1 origin-top-left bg-default rounded-md shadow-lg border border-muted p-1",
                    children: [e.jsx($a, {
                        nft: t,
                        className: "py-2 text-default"
                    }), e.jsx(Wa, {
                        nft: t,
                        onClose: () => a(!1)
                    }), e.jsx(Ua, {
                        nft: t,
                        onClose: () => a(!1)
                    })]
                })
            })]
        })
    },
    Zl = ({
        id: s,
        nft: t
    }) => {
        const n = B(),
            a = u.useCallback(r => {
                r.preventDefault(), r.stopPropagation(), n(he(fe.NftContextMenu, {
                    nft: t
                }))
            }, [n, t]);
        return e.jsxs("button", {
            id: `nft-more-${s}`,
            className: "inline-flex justify-center items-center w-6 h-6 rounded-lg hover:bg-hover",
            "data-tooltip-id": `accountMore-${s}`,
            onClick: a,
            children: [e.jsx(ft, {
                className: "text-icon-alternative w-4 h-4"
            }), e.jsx(je, {
                id: `accountMore-${s}`,
                content: "More options"
            })]
        })
    },
    Xl = ({
        nft: s,
        index: t
    }) => {
        var b;
        const n = B(),
            a = Ha(),
            {
                isMarkingAsSuspicious: r,
                handleUpdateBatchNfts: o
            } = Ve(),
            l = S(Pe),
            {
                image: c,
                mediaItems: i,
                account: x,
                name: m,
                symbol: h,
                tokenId: A,
                tokenAddress: g,
                accountAddress: p,
                metadata: y,
                chainId: N
            } = s,
            T = S(C => C.hiddenNfts.batchHiddenNfts),
            d = za(T, s);
        return e.jsxs(Ne, {
            id: `nft-card-${g}-${A}-${N}-${t}`,
            className: "relative translate-y-0 hover:z-10 hover:shadow-2xl hover:-translate-y-0.5 bg-inherit rounded-lg shadow-xl transition-all cursor-pointer group border border-muted",
            onClick: C => {
                C.preventDefault(), C.stopPropagation(), r ? (Gs({}), o(s)) : (qa({
                    address: g
                }), n(he(fe.NftDetail, {
                    nft: s
                }, O ? xt : {
                    content: {
                        width: "60%",
                        maxWidth: "900px",
                        maxHeight: "95%"
                    }
                })), a == null || a.track("NFT Detail Clicked"))
            },
            children: [r && e.jsx("button", {
                className: k("absolute top-2 right-2 w-6 h-6 rounded-full border flex items-center justify-center cursor-pointer", {
                    "bg-default border-primary-default": !d,
                    "bg-primary-default border-primary-inverse": d
                }),
                onClick: C => {
                    C.preventDefault(), C.stopPropagation(), Gs({})
                },
                children: d && e.jsx(ut, {
                    className: "w-3 text-primary-inverse"
                })
            }), e.jsx("div", {
                className: "flex shrink-0 aspect-square rounded-t-md bg-alternative overflow-hidden items-center",
                children: e.jsx(Ga, {
                    srcUrl: ((b = i == null ? void 0 : i.medium) == null ? void 0 : b.url) ? ? c
                })
            }), e.jsx("div", {
                className: "-mt-3 flex justify-end mr-3",
                children: e.jsxs("div", {
                    className: "-space-x-1 items-center flex",
                    children: [e.jsx(Ae, {
                        accountIdenticonType: l,
                        address: p,
                        avatarUri: x == null ? void 0 : x.ensAvatar,
                        size: 6,
                        className: "rounded-full flex-shrink-0 ring-muted ring-4 hover:-translate-y-2 transition-transform flex",
                        "data-tooltip-id": `nftAddress-${g}-${p}`
                    }), e.jsx(je, {
                        id: `nftAddress-${g}-${p}`,
                        content: (x == null ? void 0 : x.name) || p
                    }), e.jsx("img", {
                        className: "w-6 h-6 rounded-full object-cover ring-muted ring-4 hover:-translate-y-2 transition-transform",
                        src: we[s.chainId].iconUrl,
                        alt: "",
                        "data-tooltip-id": `nftNetwork-${g}-${p}`
                    }), e.jsx(je, {
                        id: `nftNetwork-${g}-${p}`,
                        content: we[s.chainId].chainShortName
                    })]
                })
            }), e.jsxs("div", {
                className: "px-3 pt-4 pb-4 space-y-3",
                children: [e.jsxs("div", {
                    className: "flex text-xs text-alternative items-center justify-between",
                    children: [e.jsx("div", {
                        className: "truncate",
                        children: m ? oa(m) : "-"
                    }), O ? e.jsx(Zl, {
                        id: `${s.tokenAddress}-${s.tokenId}`,
                        nft: s
                    }) : e.jsx(Kl, {
                        id: `${s.tokenAddress}-${s.tokenId}`,
                        nft: s
                    })]
                }), e.jsx("p", {
                    className: "block text-sm font-medium text-default truncate whitespace-pre",
                    children: y != null && y.name ? oa(y.name) : h && A ? `${h} #${A}` : g || "-"
                })]
            })]
        })
    },
    Ms = () => {
        const {
            t: s
        } = F(), {
            accounts: t
        } = te(), n = B(), {
            exchangeRates: a
        } = S(es), o = S(Be, ee).includes(Ie.ChainId.GNOSIS), l = u.useCallback(() => {
            t.length && t.forEach(c => {
                n(_s(c.address, a, o))
            })
        }, [t, n, a, o]);
        return e.jsx(ye, {
            title: s("home.noNfts"),
            subtitle: s("home.noNftsSubtext"),
            icon: e.jsx(Ye, {
                className: "w-6 h-6"
            }),
            button: e.jsx(xe, {
                className: "mt-2",
                onClick: l,
                children: s("home.refresh")
            }),
            bottomText: e.jsxs(Or, {
                i18nKey: "home.addAdditionalAccountsViaConnect",
                children: ["Or visit ", e.jsx(nt, {
                    to: "/portfolio/connect",
                    children: "the Connect page"
                }), " to add additional accounts."]
            }),
            transparent: !0
        })
    };

function Us({
    nfts: s,
    isLoading: t
}) {
    return e.jsx("div", {
        children: t ? e.jsx("div", {
            className: "grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-2 sm:gap-x-6 md:grid-cols-3 md:gap-x-6 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 xl:gap-x-8",
            children: [0, 1, 3, 4, 5, 6].map(n => e.jsxs("div", {
                className: `animate-pulse relative space-y-2 hover:bg-hover p-3 rounded-lg ${n>4&&"hidden lg:block"}`,
                children: [e.jsx("div", {
                    className: "group block w-full aspect-square rounded-lg bg-alternative overflow-hidden items-center",
                    children: e.jsx("div", {
                        className: "group-hover:opacity-50 max-h-40 justify-center flex items-center"
                    })
                }), e.jsxs("div", {
                    className: "space-y-2 lg:col-span-2",
                    children: [e.jsx(is, {
                        className: "h-4"
                    }), e.jsx(is, {
                        className: "h-4"
                    })]
                })]
            }, n))
        }) : (s == null ? void 0 : s.length) > 0 ? e.jsx("div", {
            className: "grid grid-cols-2 gap-x-4 gap-y-6 sm:grid-cols-2 sm:gap-x-6 md:grid-cols-3 md:gap-x-6 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 xl:gap-x-8",
            children: s.map((n, a) => e.jsx(Xl, {
                nft: n,
                index: a
            }, `${n.tokenAddress}-${n.tokenId}-${n.chainId}-${a}`))
        }) : e.jsx(Ms, {})
    })
}
const Na = ({
        id: s,
        active: t,
        onClick: n,
        title: a,
        count: r,
        disabled: o = !1
    }) => e.jsxs(Ne, {
        id: `nft-tab-${s}`,
        className: k("flex items-center cursor-pointer pb-1 border-b", {
            "text-default border-text-default": t && !o,
            "text-alternative": !t && !o,
            "border-default": t && o,
            "border-transparent": !t,
            "cursor-not-allowed text-disabled": o
        }),
        onClick: o ? Ka : n,
        children: [e.jsx("div", {
            className: "mr-1.5",
            children: a
        }), e.jsx("div", {
            className: k("text-xs px-1 rounded-md", {
                "bg-icon-default text-primary-inverse": t && !o,
                "!bg-surface-disabled": t && o
            }),
            children: r
        })]
    }),
    Vt = u.createContext({
        open: !1,
        setOpen: Ka
    }),
    un = ({
        id: s,
        defaultOpen: t = !1,
        className: n,
        children: a
    }) => {
        const [r, o] = u.useState(t);
        return e.jsx(Vt.Provider, {
            value: {
                open: r,
                setOpen: o
            },
            children: e.jsx("div", {
                id: s,
                className: k("border border-muted rounded-lg", n),
                children: a
            })
        })
    },
    xn = ({
        children: s,
        onClick: t,
        className: n,
        ...a
    }) => {
        const {
            open: r,
            setOpen: o
        } = u.useContext(Vt);
        return e.jsxs("button", {
            className: k("flex items-center text-default px-3 sm:px-4 py-5 font-medium text-left w-full hover:bg-hover rounded-lg", {
                "border-b border-muted rounded-b-none bg-pressed": r
            }, n),
            onClick: l => {
                o(!r), t && t(l)
            },
            ...a,
            children: [e.jsx("div", {
                className: "flex items-center flex-1",
                children: s
            }), e.jsx("div", {
                className: "text-icon-default p-1 rounded-full flex ml-3",
                children: r ? e.jsx(Ks, {
                    className: "w-5 h-5"
                }) : e.jsx(Zs, {
                    className: "w-5 h-5"
                })
            })]
        })
    },
    hn = ({
        children: s,
        ...t
    }) => {
        const {
            open: n
        } = u.useContext(Vt);
        return e.jsx(Ue, {
            as: "div",
            enter: "transition ease-out duration-100",
            enterFrom: "transform opacity-0 -translate-y-1",
            enterTo: "transform opacity-100 translate-y-0",
            leave: "transition ease-in duration-100",
            leaveFrom: "transform opacity-100 translate-y-0",
            leaveTo: "transform opacity-0 -translate-y-1",
            show: n,
            ...t,
            children: s
        })
    },
    Ql = ({
        className: s,
        inputClassName: t,
        onCollectionSelect: n,
        collectionData: a,
        selectedCollections: r,
        setSelectedCollections: o
    }) => {
        const [l, c] = u.useState(!1), [i, x] = u.useState(""), m = u.useRef(null);
        Ee(m, () => c(!1));
        const h = k("py-2.5 transition-transform duration-500 rounded-full", t),
            A = u.useCallback(y => {
                const N = y.target.value;
                x(N)
            }, [x]),
            g = r.length > 1 ? `${r.length} Collections` : `${r.length} Collection`,
            p = i === "" ? a : a.filter(y => y.name.toLowerCase().includes(i.toLowerCase()));
        return e.jsxs("div", {
            id: "nft-collection-filter-dropdown",
            ref: m,
            className: s,
            children: [e.jsx($e, {
                className: "group",
                onClick: () => {
                    c(!l)
                },
                isOpen: l,
                value: e.jsx("span", {
                    children: r.length > 0 ? g : "Collections"
                })
            }), e.jsx(Ue, {
                as: u.Fragment,
                enter: "transition ease-out duration-100",
                enterFrom: "transform opacity-0 scale-95",
                enterTo: "transform opacity-100 scale-100",
                leave: "transition ease-in duration-75",
                leaveFrom: "transform opacity-100 scale-100",
                leaveTo: "transform opacity-0 scale-95",
                show: l,
                children: e.jsx("div", {
                    className: "absolute min-w-[380px] right-0 z-30 mt-2 origin-top-right bg-default divide-y divide-border-muted rounded-md shadow-lg border border-muted max-h-64 overflow-y-auto ",
                    children: e.jsxs("div", {
                        className: "relative",
                        children: [e.jsx("div", {
                            className: "mx-3  my-4",
                            children: e.jsxs("div", {
                                className: "flex justify-between items-center",
                                children: [e.jsx("div", {
                                    className: "py-2 text-sm font-semibold text-alternative",
                                    children: e.jsx("span", {
                                        children: "Collections"
                                    })
                                }), r.length > 0 && e.jsx("div", {
                                    children: e.jsx(on, {
                                        onClick: () => o([]),
                                        title: "Clear"
                                    })
                                })]
                            })
                        }), e.jsx("div", {
                            className: "m-2",
                            children: e.jsx($s, {
                                startIcon: e.jsx(Za, {
                                    className: "text-icon-alternative h-4 w-full mx-1"
                                }),
                                className: h,
                                placeholder: "Search for a collection...",
                                onChange: A,
                                value: i
                            })
                        }), p.map(y => e.jsx("div", {
                            className: "cursor-pointer select-none relative bg-default hover:bg-default-hover mx-2 rounded-lg",
                            children: e.jsxs(at, {
                                onClick: () => n(y),
                                className: "flex items-center justify-between min-w-full px-0",
                                innerContainerclassName: "w-full",
                                isSelected: r.includes(y.tokenAddress),
                                children: [e.jsx("div", {
                                    className: "flex items-center",
                                    children: e.jsx("span", {
                                        className: "text-sm truncate w-64",
                                        children: y.name
                                    })
                                }), e.jsx("div", {
                                    className: "ml-auto",
                                    children: e.jsx("span", {
                                        className: "text-sm",
                                        children: y.quantity
                                    })
                                })]
                            }, y.tokenAddress)
                        }))]
                    })
                })
            })]
        })
    },
    Yl = ({
        title: s,
        category: t,
        nfts: n,
        isLoading: a,
        defaultOpen: r
    }) => {
        var Z, U, Oe;
        const o = [G.Shown, G.Suspicious],
            l = S(Te),
            {
                baseCurrency: c,
                exchangeRates: i
            } = S(es),
            {
                suspiciousNfts: x,
                suspiciousNftsSet: m,
                isMarkingAsSuspicious: h,
                isHiddenNftsView: A
            } = Ve(),
            [g, p] = u.useState([]),
            [y, N] = u.useState(1),
            T = O ? 20 : 30,
            d = (y - 1) * T,
            b = y * T,
            {
                ownedNfts: C,
                suspiciousNftObjs: w
            } = Xa(n, m),
            [v, I] = u.useState(o[0]),
            P = () => C.filter(H => g.includes(H.tokenAddress)),
            R = v === G.Suspicious ? w.slice(d, b) : g.length > 0 ? P().slice(d, b) : C.slice(d, b),
            Y = v === G.Suspicious ? w.length : g.length > 0 ? P().length : C.length,
            se = ({
                nextPage: H
            }) => {
                N(H)
            };
        u.useEffect(() => {
            x.length === 0 && v === G.Suspicious && I(G.Shown)
        }, [x.length, v, I]), u.useEffect(() => {
            N(1)
        }, [v, g]);
        const L = u.useMemo(() => {
                const H = [];
                return C.forEach(D => {
                    if (!D.name || !D.chainId || !D.tokenAddress) return;
                    const X = H.find(j => j.tokenAddress === D.tokenAddress);
                    X ? X.quantity += 1 : H.push({
                        tokenAddress: D.tokenAddress,
                        name: D.name,
                        quantity: 1,
                        chainId: D.chainId,
                        symbol: D.symbol
                    })
                }), H.sort((D, X) => D.name.trim().localeCompare(X.name.trim(), void 0, {
                    numeric: !0
                })), H
            }, [C]),
            K = n.reduce((H, D) => {
                var X, j, _;
                return (X = D.prices) != null && X.estimate.eth ? H + parseFloat((_ = (j = D.prices) == null ? void 0 : j.estimate) == null ? void 0 : _.eth) : H
            }, 0),
            pe = H => {
                const D = H.tokenAddress;
                let X = [...g];
                X.includes(D) ? X = X.filter(j => j !== D) : (X.push(D), Mr({
                    collection_name: H.name,
                    collection_id: H.tokenAddress
                })), p(X)
            },
            le = (Z = i[c]) != null && Z.value ? c : "usd",
            ie = (U = i[le]) == null ? void 0 : U.value,
            ce = (Oe = i.eth) == null ? void 0 : Oe.value,
            ae = K / ce * ie,
            be = l ? J : ks(ae, le);
        return e.jsx(Bt.Provider, {
            value: {
                category: t,
                filter: v
            },
            children: e.jsxs(un, {
                id: `nft-accordion-${s}`,
                defaultOpen: r,
                className: "my-5",
                children: [e.jsxs(xn, {
                    children: [e.jsx("div", {
                        className: "text-default font-bold",
                        children: s
                    }), e.jsx("div", {
                        className: "flex flex-1 justify-end items-center space-x-3",
                        children: !!ae && e.jsxs("div", {
                            className: "flex items-center",
                            children: [e.jsx("div", {
                                className: "font-bold cursor-pointer mr-2",
                                "data-tooltip-id": `net-worth-value-${s}`,
                                children: be
                            }), e.jsx(je, {
                                id: `net-worth-value-${s}`,
                                content: ks(K, "eth", 5)
                            }), e.jsx(ss, {
                                id: `net-worth-tip-${s}`,
                                tooltipProps: {
                                    delayHide: 200,
                                    clickable: !0
                                },
                                tooltipText: e.jsxs(e.Fragment, {
                                    children: [e.jsxs("a", {
                                        href: "https://nftbank.ai",
                                        target: "_blank",
                                        rel: "noreferrer",
                                        className: "flex mb-2 items-center",
                                        children: [e.jsx("img", {
                                            src: Gl,
                                            alt: "NFT Bank Logo",
                                            className: "w-4 h-4"
                                        }), e.jsx("div", {
                                            className: "ml-2 text-disabled text-sm",
                                            children: "Data Provided by NFTBank"
                                        })]
                                    }), e.jsx("div", {
                                        className: "w-52",
                                        children: "Total balance is only available for Ethereum network. More networks coming soon."
                                    })]
                                })
                            })]
                        })
                    })]
                }), e.jsx(hn, {
                    children: e.jsxs("div", {
                        className: "p-4 sm:p-6",
                        children: [e.jsxs("div", {
                            className: "flex justify-between items-center",
                            children: [e.jsxs("div", {
                                className: "flex space-x-3 mb-6",
                                children: [e.jsx(Na, {
                                    id: G.Shown,
                                    title: "Owned",
                                    count: C.length,
                                    onClick: () => I(G.Shown),
                                    active: v === G.Shown,
                                    disabled: h
                                }, "owned-tab"), x.length > 0 && e.jsx(Na, {
                                    id: G.Suspicious,
                                    title: "Suspicious",
                                    count: w.length,
                                    onClick: () => I(G.Suspicious),
                                    active: v === G.Suspicious,
                                    disabled: h
                                }, "suspicious-tab")]
                            }), v === G.Shown && e.jsx("div", {
                                className: "flex mb-6",
                                children: e.jsx(Ql, {
                                    collectionData: L,
                                    onCollectionSelect: pe,
                                    selectedCollections: g,
                                    setSelectedCollections: p
                                })
                            })]
                        }), A && x.length > 0 && e.jsx(Ls, {
                            variant: "inline",
                            id: "suspicious-nft-banner",
                            className: "mb-4",
                            type: "critical",
                            title: "Be careful",
                            message: "Some NFTs can link to dangerous sites and put your assets at risk.",
                            links: [{
                                linkText: "Learn more",
                                href: "https://support.metamask.io/hc/en-us/sections/11294597751963-Staying-Safe-in-Web3"
                            }]
                        }), e.jsx(Us, {
                            nfts: R,
                            isLoading: a
                        }), e.jsx(_e, {
                            totalCount: Y,
                            currentPage: y,
                            pageSize: T,
                            onChange: se
                        })]
                    })
                })]
            })
        })
    },
    Jl = Yl,
    ei = ({
        categories: s,
        isLoading: t
    }) => {
        const [n, a] = u.useState(null), [r, o] = u.useState(G.Shown), l = s.find(p => p.id === n), {
            suspiciousNfts: c,
            suspiciousNftsSet: i,
            isMarkingAsSuspicious: x
        } = Ve(), {
            ownedNfts: m,
            suspiciousNftObjs: h
        } = Xa((l == null ? void 0 : l.nfts) || [], i), A = r === G.Suspicious ? h : m, g = [{
            value: G.Shown,
            name: "Owned",
            count: m.length
        }, {
            value: G.Suspicious,
            name: "Suspicious",
            count: c.length
        }];
        return u.useEffect(() => {
            c.length === 0 && r === G.Suspicious && o(G.Shown)
        }, [c, r, o]), n ? e.jsx(Bt.Provider, {
            value: {
                category: n,
                filter: r
            },
            children: e.jsxs("div", {
                children: [e.jsx("div", {
                    children: e.jsxs("button", {
                        className: "flex items-center",
                        onClick: () => a(null),
                        children: [e.jsx(dt, {
                            className: "w-5 h-5"
                        }), e.jsx("div", {
                            className: "ml-4 text-sm font-semibold",
                            children: l.title
                        })]
                    })
                }), e.jsx("div", {
                    className: "flex my-6",
                    children: c.length > 0 ? e.jsx(Sl, {
                        items: g,
                        selected: r,
                        analyticsId: "NFT Filter",
                        onSelect: ({
                            value: p
                        }) => o(p),
                        disabled: x
                    }) : e.jsxs("div", {
                        className: "flex items-center",
                        children: [e.jsx("div", {
                            className: "mr-1.5",
                            children: "Owned"
                        }), e.jsx("div", {
                            className: "text-xs px-1 rounded-md bg-icon-default text-primary-inverse",
                            children: m.length
                        })]
                    })
                }), e.jsx(Us, {
                    nfts: A,
                    isLoading: t
                })]
            })
        }) : e.jsx("div", {
            children: s.filter(p => {
                var y;
                return ((y = p.nfts) == null ? void 0 : y.length) > 0
            }).map(p => e.jsx("button", {
                className: "text-default border border-muted mb-4 p-4 font-medium text-left w-full hover:bg-hover rounded-lg",
                onClick: () => a(p.id),
                children: e.jsxs("div", {
                    className: "flex w-full",
                    children: [e.jsx("div", {
                        className: "text-default font-bold",
                        children: p.title
                    }), e.jsx("div", {
                        className: "flex flex-1 justify-end items-center space-x-2",
                        children: e.jsx("div", {
                            className: "text-default p-1 rounded-full flex ml-3",
                            children: e.jsx(Fa, {
                                className: "w-5 h-5"
                            })
                        })
                    })]
                })
            }, `categories-${p.id}`))
        })
    },
    si = ei;

function ti() {
    const s = B(),
        {
            exchangeRates: t
        } = S(es),
        {
            nfts: n,
            isLoadingNfts: a
        } = S(Rs, ee),
        r = S(Be, ee),
        o = r.includes(Ie.ChainId.GNOSIS),
        {
            newAccounts: l,
            selectedAccountAddresses: c,
            accounts: i
        } = te();
    u.useEffect(() => {
        l.length && l.forEach(N => {
            s(_s(N.address, t, o))
        })
    }, [s, l, t, o]);
    const h = [...n.filter(N => c.includes(N.accountAddress) && (r.includes(N.chainId) || [100].includes(N.chainId)))].map(N => {
            var C, w;
            const T = i.find(v => v.address.toLowerCase() === N.accountAddress.toLowerCase()),
                d = ((C = N == null ? void 0 : N.metadata) == null ? void 0 : C.image_url) || ((w = N == null ? void 0 : N.metadata) == null ? void 0 : w.image),
                b = d != null && d.includes("ipfs://ipfs") ? `${Ps}/ipfs/${d.slice(11)}` : d != null && d.includes("ipfs://") ? `${Ps}/ipfs/${d.slice(7)}` : d;
            return { ...N,
                image: b,
                account: T
            }
        }).map(N => {
            const T = i.find(d => d.address === N.accountAddress.toLowerCase());
            return { ...N,
                account: T
            }
        }),
        A = ms(h, "account.readOnly"),
        g = A.false,
        p = A.true,
        y = [{
            id: Es.Owned,
            title: "Your NFTs",
            nfts: g,
            defaultOpen: !0
        }, {
            id: Es.Watched,
            title: "Watched NFTs",
            nfts: p,
            defaultOpen: !g || (g == null ? void 0 : g.length) === 0
        }];
    return e.jsx("div", {
        id: "nfts-tab",
        children: a ? [1, 2, 3].map(N => e.jsx("div", {
            className: "border border-muted rounded-2xl p-4 w-full mx-auto my-5",
            children: e.jsx(ds, {})
        }, `nfts-tab-${N}`)) : h.length > 0 ? O ? e.jsx(si, {
            categories: y,
            isLoading: a
        }) : e.jsx("div", {
            className: "relative",
            children: y.map(N => {
                var T;
                return ((T = N.nfts) == null ? void 0 : T.length) > 0 && e.jsx(Jl, { ...N,
                    category: N.id,
                    isLoading: a
                }, N.id)
            })
        }) : e.jsx(Ms, {})
    })
}
const ai = ({
        defiAsset: s,
        showNetwork: t,
        protocolId: n,
        size: a = "w-8 h-8"
    }) => {
        const {
            name: r,
            iconUrl: o,
            chainId: l
        } = s, {
            iconUrl: c
        } = we[l], i = `${l}-${r}-${n}`, [x, m] = u.useState(!1), h = u.useMemo(() => x ? e.jsx("div", {
            className: `${a} rounded-full flex items-center justify-center bg-alternative text-alternative text-sm`,
            children: r[0]
        }) : e.jsx("img", {
            src: o,
            alt: `${r} avatar`,
            className: `${a} rounded-full object-cover`,
            onError: () => m(!0)
        }), [o, r, x, a]);
        return e.jsxs(e.Fragment, {
            children: [e.jsx(Vs, {
                className: `${a} rounded-full cursor-pointer flex-shrink-0`,
                avatar: h,
                badgeIcon: t && e.jsx("img", {
                    src: c,
                    alt: `${l} icon`,
                    className: "rounded-full"
                }),
                badgePosition: "topRight",
                "data-tooltip-id": i
            }), e.jsx(je, {
                id: i,
                content: r
            })]
        })
    },
    Fs = ai,
    ba = 10,
    ni = ({
        defiPositionUnderlyingAssets: s,
        chainId: t,
        protocolId: n
    }) => {
        const a = Math.min(s.length, ba) - 1;
        return e.jsx(At, {
            isOpen: !1,
            maxDisplayed: ba,
            className: "overflow-visible",
            overflowClassName: "bg-transparent border-none pl-2",
            children: s.map((r, o) => {
                const l = {
                    name: r.symbol,
                    iconUrl: r.iconUrl || "",
                    chainId: t
                };
                return e.jsx(Fs, {
                    defiAsset: l,
                    protocolId: n,
                    showNetwork: a === o
                }, `${r.symbol}-${o}`)
            })
        })
    },
    ri = ni,
    Hs = (s, t) => Number(s) / Math.pow(10, t),
    va = s => s.toLocaleString(void 0, {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
    });

function oi({
    position: s,
    isLoadingPrices: t,
    marketData: n
}) {
    const {
        userAddress: a,
        protocolId: r,
        chainId: o,
        standardUnderlying: l,
        tokenName: c,
        protocolName: i,
        rewardUnderlying: x
    } = s, {
        accounts: m
    } = te(), h = S(Te), {
        formatPriceWithCurrency: A
    } = Se(), g = v => m == null ? void 0 : m.find(I => I.address === v), [p, y] = u.useState(!1), N = g(a), T = N == null ? void 0 : N.ensAvatar, d = N == null ? void 0 : N.ensName, b = l.length > 0 ? `${a}-${r}-${o}-${l[0].symbol}` : `${a}-${r}-${o}`, C = S(Pe), w = u.useMemo(() => {
        let v = !1;
        const I = l.reduce((P, R) => {
            if (!n) return console.warn("marketData is undefined"), P;
            const Y = R.address.toLowerCase(),
                se = n[Y];
            return se !== void 0 ? P + Hs(R.balanceRaw, R.decimals) * se : (v = !0, P)
        }, 0);
        return y(v), I
    }, [l, n]);
    return e.jsxs("tr", {
        className: "border-b border-muted last:border-0",
        children: [e.jsxs("td", {
            className: "p-2 flex items-center gap-6",
            children: [e.jsx(ri, {
                defiPositionUnderlyingAssets: l,
                chainId: o,
                protocolId: r
            }), e.jsxs("div", {
                className: "flex flex-col",
                children: [e.jsx(q, {
                    className: "font-semibold text-default truncate max-w-[11rem] sm:max-w-[60%] lg:max-w-[14rem]",
                    children: c
                }), e.jsx(q, {
                    className: "text-sm text-alternative",
                    children: $(i, 50)
                })]
            })]
        }), e.jsx("td", {
            className: "p-2 hidden lg:table-cell",
            children: e.jsx("div", {
                className: "flex flex-col",
                children: l.map((v, I) => e.jsxs("div", {
                    className: "flex items-center",
                    children: [e.jsx(Fs, {
                        defiAsset: {
                            name: v.symbol,
                            iconUrl: v.iconUrl || "",
                            chainId: o
                        },
                        showNetwork: !1,
                        protocolId: r,
                        size: "w-4 h-4"
                    }), e.jsxs("div", {
                        className: "text-sm ml-2 truncate max-w-[10rem]",
                        children: [va(Hs(v.balanceRaw, v.decimals)), " ", v.symbol]
                    })]
                }, I))
            })
        }), e.jsx("td", {
            className: "hidden xl:table-cell p-2",
            children: x.map((v, I) => e.jsxs("div", {
                className: "flex items-center",
                children: [e.jsx(Fs, {
                    defiAsset: {
                        name: v.symbol,
                        iconUrl: v.iconUrl || "",
                        chainId: o
                    },
                    showNetwork: !1,
                    protocolId: r,
                    size: "w-4 h-4"
                }), e.jsxs("div", {
                    className: "text-sm ml-2 truncate max-w-[8rem]",
                    children: [va(Hs(v.balanceRaw, v.decimals)), " ", v.symbol]
                })]
            }, I))
        }), e.jsx("td", {
            className: "p-2 hidden xl:table-cell",
            children: e.jsxs("div", {
                className: "flex justify-center",
                children: [e.jsx("div", {
                    "data-tooltip-id": b,
                    children: e.jsx(Ae, {
                        accountIdenticonType: C,
                        address: a || "",
                        avatarUri: T,
                        size: 6
                    })
                }, b), e.jsx(je, {
                    id: b,
                    place: "top",
                    children: d || $(a, 18)
                })]
            })
        }), e.jsx("td", {
            className: "p-2",
            children: t ? e.jsx(is, {
                className: "h-6 flex-1"
            }) : e.jsx(St, {
                formattedMarketValue: h ? J : A(w),
                isShowingBalanceAndSymbol: !1,
                isLoadingMarketValue: t,
                containerClassName: "items-end",
                trailingIcon: p && e.jsx(ss, {
                    id: `${r}-${o}-${l[0].symbol}-price-warning`,
                    tooltipText: e.jsxs(u.Fragment, {
                        children: [e.jsx(q, {
                            invertColor: !0,
                            scale: Q.ParagraphBase,
                            children: "Price may be inaccurate"
                        }), e.jsx(q, {
                            invertColor: !0,
                            scale: Q.ParagraphSm,
                            children: "One or more tokens in this position may not have a price available"
                        })]
                    }),
                    iconClassName: "text-warning-default"
                })
            })
        })]
    })
}
const li = s => ms(s, t => t.positionsType || "Other");

function ii({
    positions: s,
    protocolId: t,
    isLoadingPrices: n,
    marketData: a,
    enrichedPositions: r
}) {
    const o = {
            name: s[0].protocolName ? s[0].protocolName : "",
            iconUrl: s[0].protocolIconUrl ? s[0].protocolIconUrl : "",
            chainId: s[0].chainId
        },
        l = li(s);
    return e.jsxs("div", {
        className: "border border-muted rounded-xl p-4 overflow-visible",
        children: [e.jsxs("div", {
            className: "flex items-center space-x-2 mb-4 pl-2",
            children: [e.jsx(Fs, {
                defiAsset: o,
                showNetwork: !0,
                protocolId: t
            }), e.jsx("span", {
                className: "font-semibold text-lg",
                children: o.name
            })]
        }), Object.entries(l).map(([c, i], x) => e.jsxs(u.Fragment, {
            children: [e.jsx("div", {
                className: "px-2 font-semibold",
                children: c.charAt(0).toUpperCase() + c.slice(1)
            }), e.jsxs("table", {
                className: "w-full table-fixed",
                children: [e.jsx("thead", {
                    className: "border-b border-muted",
                    children: e.jsxs("tr", {
                        children: [e.jsx(rs, {
                            className: "w-[70%] sm:w-[60%] xl:w-[35%]",
                            children: "Name"
                        }), e.jsx(rs, {
                            className: "hidden lg:table-cell max-w-[10rem]",
                            children: "Balance"
                        }), e.jsx(rs, {
                            className: "hidden xl:table-cell max-w-[8rem]",
                            children: "Rewards"
                        }), e.jsx(rs, {
                            className: "text-center hidden xl:table-cell",
                            children: "Holder"
                        }), e.jsx(rs, {
                            className: "text-right",
                            children: "Value"
                        })]
                    })
                }), e.jsx("tbody", {
                    children: i.map(m => e.jsx(oi, {
                        position: m,
                        enrichedPosition: r == null ? void 0 : r.find(h => h.uniqueId === m.uniqueId),
                        isLoadingPrices: n,
                        marketData: a
                    }, m.uniqueId))
                })]
            }), x < Object.entries(i).length - 1 && e.jsx("hr", {
                className: "border-t border-muted my-4"
            })]
        }, c))]
    })
}
const rs = ({
        children: s,
        className: t
    }) => e.jsx("th", {
        className: k("text-left p-2", t),
        children: s
    }),
    ci = () => {
        const s = "https://learn.metamask.io/lessons/finance-decentralized",
            {
                t
            } = F();
        return e.jsx(ye, {
            title: t("home.defiPositions.noPositionsTitle"),
            subtitle: e.jsx("span", {
                className: "inline-block max-w-[500px] text-xs sm:text-sm text-center",
                children: t("home.defiPositions.noPositionsDescription")
            }),
            icon: e.jsx(Ye, {
                className: "w-6 h-6"
            }),
            button: e.jsx(We, {
                className: "mt-2",
                href: s,
                children: t("home.defiPositions.noPositionsCallToAction")
            }),
            transparent: !0
        })
    },
    di = ci,
    mi = s => {
        const {
            tokenAddresses: t,
            chainIds: n,
            vsCurrency: a = "usd",
            includeMarketData: r = !1
        } = s, {
            data: o,
            error: l,
            isLoading: c
        } = Fr({
            tokenAddresses: t,
            chainIds: n,
            vsCurrency: a,
            includeMarketData: r
        });
        return {
            marketData: u.useMemo(() => {
                const x = {};
                return o && Object.entries(o).forEach(([m, h]) => {
                    h && h.price !== void 0 && (x[m.toLowerCase()] = h.price)
                }), x
            }, [o]),
            error: l,
            isLoading: c
        }
    },
    ui = mi;

function xi({
    defiPositions: s,
    isError: t,
    isLoading: n
}) {
    const a = S(Be, ee),
        {
            selectedAccountAddresses: r
        } = te(),
        o = u.useMemo(() => a.filter(p => Qa.includes(p)), [a]),
        l = u.useMemo(() => (s == null ? void 0 : s.filter(p => a.includes(p.chainId) && r.includes(p.userAddress))) || [], [s, a, r]),
        c = l.length,
        i = u.useMemo(() => ms(l, "protocolId"), [l]),
        m = {
            tokenAddresses: u.useMemo(() => {
                const p = new Set(l.flatMap(y => y.standardUnderlying.map(N => N.address.toLowerCase())));
                return Array.from(p)
            }, [l]),
            chainIds: o,
            vsCurrency: "usd",
            includeMarketData: !0
        },
        {
            marketData: h,
            isLoading: A
        } = ui(m),
        g = u.useMemo(() => h ? Object.entries(i).reduce((p, [y, N]) => (p[y] = N.map(T => {
            const d = T.standardUnderlying.reduce((C, w) => {
                    const v = h[w.address.toLowerCase()] || 0,
                        I = Number(w.balanceRaw);
                    return C + I * v
                }, 0),
                b = T.standardUnderlying.map(C => ({ ...C,
                    price: h[C.address.toLowerCase()] || 0
                }));
            return { ...T,
                standardUnderlying: b,
                usdValue: d
            }
        }), p), {}) : {}, [i, h]);
    return n ? e.jsx(Tt, {}) : t ? e.jsx(hi, {}) : c ? e.jsx("div", {
        "data-testid": "defi-positions-container",
        className: "flex flex-col space-y-6",
        children: Object.entries(i).map(([p, y]) => e.jsx(ii, {
            protocolId: p,
            positions: y,
            enrichedPositions: g[p] || [],
            isLoadingPrices: A,
            marketData: h
        }, p))
    }) : e.jsx(di, {})
}
const hi = () => e.jsx(ye, {
        title: "An unexpected error occurred",
        subtitle: "Please refresh data or try again later",
        icon: e.jsx(pt, {
            className: "w-6 h-6"
        }),
        transparent: !0
    }),
    fi = ({
        color: s = "currentColor",
        ...t
    }) => e.jsx("svg", {
        viewBox: "0 0 16 16",
        height: "1em",
        width: "1em",
        fill: s,
        ...t,
        children: e.jsx("path", {
            fillRule: "evenodd",
            d: "M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z"
        })
    }),
    pi = () => {
        const {
            t: s
        } = F(), t = "https://learn.metamask.io/lessons/finance-decentralized";
        return e.jsx(ye, {
            title: s("home.defiPositions.maintenanceModeTitle"),
            subtitle: e.jsx("span", {
                className: "inline-block max-w-[500px] text-xs sm:text-sm text-center",
                children: s("home.defiPositions.maintenanceModeDescription")
            }),
            icon: e.jsx(fi, {
                className: "w-6 h-6"
            }),
            button: e.jsx(We, {
                className: "mt-2",
                href: t,
                children: s("home.defiPositions.noPositionsCallToAction")
            }),
            transparent: !0
        })
    },
    gi = pi;

function Rt() {
    const {
        accountAddresses: s,
        newAccounts: t
    } = te(), {
        defiEnabled: n
    } = ht(), a = u.useMemo(() => ({
        chainIds: Qa,
        userAddresses: s
    }), [s]), {
        data: r,
        isError: o,
        isLoading: l,
        refetch: c
    } = Dr(a, {
        skip: !n || !s.length
    });
    return u.useEffect(() => {
        const i = x => {
            const m = [];
            return x.forEach(h => {
                m.includes(h.protocolId) || m.push(h.protocolId)
            }), m
        };
        if (!l && r) {
            const x = i(r);
            Br({
                number_of_positions: r.length,
                protocols: x
            })
        }
        o && Vr({})
    }, [r, l, o]), u.useEffect(() => {
        n && s.length && t.length && c()
    }, [s, n, c, t]), n ? e.jsx(xi, {
        defiPositions: r,
        isLoading: l,
        isError: o
    }) : e.jsx(gi, {})
}

function ji() {
    const s = B(),
        t = Ya(),
        n = Je(),
        {
            t: a
        } = F(),
        {
            accountAddressOrEns: r = ""
        } = Rr(),
        [o, l] = u.useState({
            ensName: "",
            address: ""
        }),
        c = [{
            id: "tokens",
            name: a("main.tokens")
        }, {
            id: "nfts",
            name: a("main.nfts")
        }, {
            id: "defi",
            name: a("main.defi")
        }],
        i = new URLSearchParams(t.search.slice(1)),
        x = c.findIndex(d => i.get("tab") === d.id),
        m = Math.max(x, 0),
        {
            data: h,
            requestInfo: {
                isLoading: A
            }
        } = Le(_r),
        {
            formatPriceWithCurrency: g
        } = Se();
    u.useEffect(() => {
        (async () => {
            if (Wr.test(r)) {
                const b = await Ur(r);
                l({
                    ensName: b || "",
                    address: r
                })
            } else if (r.includes(".eth")) {
                const b = await Hr(r);
                l({
                    ensName: r,
                    address: (b == null ? void 0 : b.toLowerCase()) || ""
                })
            } else return n("/")
        })()
    }, [r, s, n]);
    const p = h.filter(d => o.address === d.accountAddress),
        {
            aggregatedTokenBalances: y,
            portfolioMarketValue: N
        } = gt([o == null ? void 0 : o.address]),
        T = A || !(o.address || o.ensName);
    return e.jsxs(Ds, {
        children: [e.jsx(Bs, {
            title: o.ensName || $(o.address || "", 15),
            actions: e.jsx("div", {
                className: "flex whitespace-nowrap",
                children: e.jsx("div", {
                    className: "flex space-x-3",
                    children: e.jsx("div", {
                        className: "flex-1",
                        children: e.jsx(dn, {
                            accountValues: p
                        })
                    })
                })
            })
        }), e.jsx("div", {
            className: "mb-10",
            children: T ? e.jsxs("div", {
                className: "animate-pulse",
                children: [e.jsx(is, {
                    className: "h-6 w-40"
                }), e.jsx(is, {
                    className: "h-10 w-40 mt-2"
                })]
            }) : e.jsxs("div", {
                className: "justify-between flex align-bottom",
                children: [e.jsxs("div", {
                    children: [e.jsx("div", {
                        className: "text-md text-alternative",
                        children: a("home.portfolioValue")
                    }), e.jsx("div", {
                        className: "flex items-end text-4xl font-semibold mt-2 text-default",
                        children: e.jsx("div", {
                            children: g(N)
                        })
                    })]
                }), e.jsx("div", {})]
            })
        }), e.jsx("div", {
            className: "mt-5",
            children: e.jsx("div", {
                className: "w-full",
                children: e.jsx($r, {
                    children: e.jsxs(jt, {
                        onChange: d => {
                            const b = c[d] || c[0];
                            n(`${t.pathname}?tab=${b.name.toLowerCase().replace(" ","-")}`), Ja({
                                tab: b
                            })
                        },
                        selectedIndex: m,
                        children: [e.jsxs("div", {
                            className: "grid gap-3 grid-cols-4 sm:flex flex-wrap justify-between items-center",
                            children: [e.jsx("div", {
                                className: "col-span-4 flex justify-between",
                                children: e.jsx("div", {
                                    className: "flex items-center space-x-3",
                                    children: e.jsx("div", {
                                        className: "font-semibold text-xl",
                                        children: "Assets"
                                    })
                                })
                            }), e.jsx("div", {
                                className: "col-span-4 sm:flex space-y-3 sm:space-y-0 sm:space-x-3",
                                children: e.jsx(Nt, {
                                    className: "flex p-1 sm:space-x-3 rounded-full sm:max-w-md bg-alternative transition-colors",
                                    children: c.map(({
                                        id: d,
                                        name: b
                                    }) => e.jsx(Os, {
                                        className: ({
                                            selected: C
                                        }) => k("w-full py-1.5 text-sm leading-5 px-3 sm:px-6 md:px-6 rounded-full", {
                                            "text-primary-default font-semibold": C,
                                            "text-alternative font-medium": !C
                                        }),
                                        children: b
                                    }, d))
                                })
                            })]
                        }), e.jsxs(bt, {
                            className: "mt-2",
                            children: [e.jsx(oe, {
                                className: "rounded-xl mt-7 focus:outline-none",
                                children: e.jsx(Ft, {
                                    tokens: y
                                })
                            }, "tokens"), e.jsx(oe, {
                                className: "rounded-xl mt-7 focus:outline-none",
                                children: e.jsx(ti, {})
                            }, "nfts"), e.jsx(oe, {
                                className: "rounded-xl mt-7 focus:outline-none",
                                children: e.jsx(Dt, {
                                    setHiddenTxCount: () => {},
                                    showAllTransactions: !0
                                })
                            }, "activity"), e.jsx(oe, {
                                className: "rounded-xl mt-7 focus:outline-none",
                                children: e.jsx(Rt, {})
                            }, "defi")]
                        })]
                    })
                })
            })
        })]
    })
}

function fn({
    mappedAccountBalances: s
}) {
    const t = B(),
        {
            t: n
        } = F(),
        [a, r] = u.useState(!1),
        o = u.useRef(null);
    return Ee(o, () => r(!1)), O ? e.jsx(us, {
        onClick: () => t(xs({
            name: hs.PortfolioActions
        })),
        children: n("home.more")
    }) : e.jsxs("div", {
        id: "portfolio-actions",
        ref: o,
        className: "relative sm:inline-block text-left",
        children: [e.jsx($e, {
            onClick: () => {
                zr({}), r(!a)
            },
            value: "More",
            className: "py-2.5"
        }), e.jsx(Ue, {
            as: u.Fragment,
            show: a,
            enter: "transition ease-out duration-100",
            enterFrom: "transform opacity-0 scale-95",
            enterTo: "transform opacity-100 scale-100",
            leave: "transition ease-in duration-75",
            leaveFrom: "transform opacity-100 scale-100",
            leaveTo: "transform opacity-0 scale-95",
            children: e.jsx("div", {
                className: "absolute z-10 w-screen left-0 sm:w-max sm:min-w-[16rem] mt-1 origin-bottom-right bg-default rounded-md shadow-lg border border-muted p-1",
                children: e.jsx(qr, {
                    close: () => r(!1),
                    mappedAccountBalances: s
                })
            })
        })]
    })
}

function pn() {
    const s = u.useRef(null),
        {
            t
        } = F();
    Ee(s, () => r(!1));
    const n = B(),
        [a, r] = u.useState(!1);
    return O ? e.jsx(us, {
        onClick: () => n(xs({
            name: hs.NftActions
        })),
        children: t("home.more")
    }) : e.jsxs("div", {
        id: "portfolio-nft-actions",
        ref: s,
        className: "relative sm:inline-block text-left mb-4",
        "data-tooltip-id": "suspicious-nfts",
        children: [e.jsx(je, {
            id: "suspicious-nfts",
            content: `Don't see an NFT you're looking for? Check under "Hidden" here`
        }), e.jsx($e, {
            onClick: () => {
                r(!a)
            },
            value: "More",
            className: "py-2.5"
        }), e.jsx(Ue, {
            as: u.Fragment,
            show: a,
            enter: "transition ease-out duration-100",
            enterFrom: "transform opacity-0 scale-95",
            enterTo: "transform opacity-100 scale-100",
            leave: "transition ease-in duration-75",
            leaveFrom: "transform opacity-100 scale-100",
            leaveTo: "transform opacity-0 scale-95",
            children: e.jsx("div", {
                className: "absolute z-10 w-screen left-0 sm:w-max sm:min-w-[16rem] mt-1 origin-bottom-right bg-default rounded-md shadow-lg border border-muted p-1",
                children: e.jsx(Gr, {
                    close: () => r(!1)
                })
            })
        })]
    })
}
const Ni = k("py-2.5 transition-transform duration-500 rounded-full"),
    gn = ({
        className: s,
        selectedCollections: t,
        setSelectedCollections: n
    }) => {
        const a = S(Be, ee),
            {
                selectedAccountAddresses: r
            } = te(),
            {
                nfts: o
            } = S(Rs, ee),
            {
                isNftMarkedSuspicious: l
            } = Ve(),
            c = u.useRef(null),
            [i, x] = u.useState(!1),
            [m, h] = u.useState("");
        Ee(c, () => x(!1));
        const A = u.useMemo(() => o.filter(d => r.includes(d.accountAddress) && (a.includes(d.chainId) || d.chainId == 100)), [o, r, a]),
            g = u.useMemo(() => {
                const d = [];
                return A.forEach(b => {
                    var I;
                    const C = !(b.name || (I = b.metadata) != null && I.name) || !b.chainId || !b.tokenAddress,
                        w = l(b);
                    if (C || w) return;
                    const v = d.find(P => P.chainId === b.chainId && P.tokenAddress === b.tokenAddress);
                    v ? v.quantity += 1 : d.push({
                        tokenAddress: b.tokenAddress,
                        name: b.name || b.metadata.name,
                        quantity: 1,
                        chainId: b.chainId,
                        symbol: b.symbol
                    })
                }), d.sort((b, C) => b.name.trim().localeCompare(C.name.trim(), void 0, {
                    numeric: !0
                })), d
            }, [A, l]),
            p = d => {
                const b = t.includes(d) ? t.filter(C => C !== d) : [...t, d];
                n(b)
            },
            y = u.useCallback(d => {
                const b = d.target.value;
                h(b)
            }, [h]),
            N = t.length > 1 ? `${t.length} All Collections` : `${t.length} Collection`,
            T = m === "" ? g : g.filter(d => d.name.toLowerCase().includes(m.toLowerCase()));
        return e.jsxs("div", {
            id: "nft-collection-filter-dropdown",
            ref: c,
            className: s,
            children: [e.jsx($e, {
                className: "group py-2.5",
                onClick: () => {
                    x(!i)
                },
                isOpen: i,
                value: e.jsx("span", {
                    children: t.length > 0 ? N : "All Collections"
                })
            }), e.jsx(Ue, {
                as: u.Fragment,
                enter: "transition ease-out duration-100",
                enterFrom: "transform opacity-0 scale-95",
                enterTo: "transform opacity-100 scale-100",
                leave: "transition ease-in duration-75",
                leaveFrom: "transform opacity-100 scale-100",
                leaveTo: "transform opacity-0 scale-95",
                show: i,
                children: e.jsx("div", {
                    className: "flex flex-col mt-1 z-20 rounded-lg shadow-lg outline-none bg-default divide-y divide-border-muted border border-muted fixed inset-x-3 sm:absolute sm:w-max max-h-64 overflow-y-auto overflow-x-hidden hide-scrollbar py-0 left-0",
                    children: e.jsxs("div", {
                        className: "relative",
                        children: [e.jsx("div", {
                            className: "mx-3  my-4",
                            children: e.jsxs("div", {
                                className: "flex justify-between items-center",
                                children: [e.jsx("div", {
                                    className: "py-2 text-sm font-semibold text-alternative",
                                    children: e.jsx("span", {
                                        children: "Collections"
                                    })
                                }), t.length > 0 && e.jsx("div", {
                                    children: e.jsx(on, {
                                        onClick: () => n([]),
                                        title: "Clear"
                                    })
                                })]
                            })
                        }), e.jsx("div", {
                            className: "m-2",
                            children: e.jsx($s, {
                                startIcon: e.jsx(Za, {
                                    className: "text-icon-alternative h-4 w-full mx-1"
                                }),
                                className: Ni,
                                placeholder: "Search for a collection...",
                                onChange: y,
                                value: m
                            })
                        }), T.map(d => e.jsx("div", {
                            className: "bg-default cursor-pointer select-none relative hover:bg-alternative mx-2 mb-2 rounded-lg",
                            children: e.jsxs(at, {
                                onClick: () => p(d.tokenAddress),
                                className: "flex items-center justify-between min-w-full px-0",
                                innerContainerclassName: "w-full",
                                isSelected: t.includes(d.tokenAddress),
                                children: [e.jsx("div", {
                                    className: "flex items-center",
                                    children: e.jsx("span", {
                                        className: "text-sm truncate w-64",
                                        children: d.name
                                    })
                                }), e.jsx("div", {
                                    className: "ml-auto",
                                    children: e.jsx("span", {
                                        className: "text-sm",
                                        children: d.quantity
                                    })
                                })]
                            }, d.tokenAddress)
                        }, d.name))]
                    })
                })
            })]
        })
    },
    wa = O ? 10 : 20,
    bi = ({
        nft: s,
        className: t
    }) => {
        var i, x, m;
        const n = Kr(s),
            {
                isMarkingAsSuspicious: a,
                isHiddenNftsView: r,
                handleUpdateBatchNfts: o
            } = Ve(),
            l = S(h => h.hiddenNfts.batchHiddenNfts),
            c = za(l, s);
        return e.jsxs("td", {
            className: k("sm:w-auto flex items-center", t),
            children: [a && e.jsx("button", {
                className: k("mr-2 mt-3 w-5 h-5 rounded-full border flex items-center justify-center cursor-pointer", {
                    "bg-default border-primary-default": !c,
                    "bg-primary-default border-primary-inverse": c
                }),
                onClick: h => {
                    h.preventDefault(), h.stopPropagation(), o(s), Gs({})
                },
                children: e.jsx(ut, {
                    className: "w-3 text-primary-inverse"
                })
            }), !r && e.jsxs("div", {
                children: [e.jsx("div", {
                    style: {
                        float: "right",
                        position: "relative",
                        top: "15px",
                        zIndex: 2
                    },
                    children: e.jsx("img", {
                        className: "w-4 h-4 rounded-full object-cover ring-muted ring-1 ",
                        src: we[s.chainId].iconUrl,
                        alt: ""
                    })
                }), e.jsx(Vs, {
                    id: `nft-image-${s.chainId}-${s.symbol}`,
                    avatar: e.jsx(Ga, {
                        srcUrl: ((x = (i = s.mediaItems) == null ? void 0 : i.high) == null ? void 0 : x.url) ? ? s.image,
                        className: "w-12 min-w-[3rem] square-full aspect-square object-cover rounded-[13px] max-w-[48px]"
                    }),
                    className: t,
                    badgePosition: "topLeft"
                })]
            }), e.jsxs("div", {
                children: [e.jsx("span", {
                    className: "flex font-semibold text-default items-center ml-2",
                    children: `${$(n,wa)}`
                }), e.jsx("span", {
                    className: "inline-block text-sm text-alternative ml-2",
                    children: $(s.name || ((m = s.metadata) == null ? void 0 : m.name), wa)
                })]
            })]
        })
    },
    vi = ({
        nft: s,
        children: t,
        position: n = "bottomLeft",
        iconOrientation: a = "vertical"
    }) => {
        const [r, o] = u.useState(!1), l = u.useRef(null);
        return Ee(l, () => o(!1)), e.jsxs("div", {
            id: "nfts-more-menu",
            ref: l,
            className: "relative sm:inline-block text-left",
            children: [e.jsx("div", {
                children: e.jsxs("button", {
                    className: "inline-flex justify-center items-center w-6 h-6 text-icon-default transition-colors rounded-lg hover:bg-hover",
                    onClick: c => {
                        c.preventDefault(), c.stopPropagation(), o(!r)
                    },
                    "data-tooltip-id": `nft-more-${s.chainId}-${s.tokenAddress}`,
                    children: [a === "horizontal" ? e.jsx(ft, {
                        className: "w-4 h-4"
                    }) : e.jsx(en, {
                        className: "w-4 h-4"
                    }), e.jsx(je, {
                        id: `nft-more-${s.chainId}-${s.tokenAddress}`,
                        content: "Nft actions"
                    })]
                })
            }), e.jsx(tt, {
                isOpen: r,
                className: k("p-1 text-sm right-0 sm:w-max", {
                    "bottom-8": n === "topLeft"
                }),
                position: "right",
                children: t
            })]
        })
    },
    wi = ({
        nft: s
    }) => {
        const t = B();
        return e.jsxs("button", {
            className: "inline-flex justify-center items-center w-6 h-6 text-icon-default transition-colors rounded-lg hover:bg-hover",
            "data-tooltip-id": `nft-more-${s.chainId}-${s.tokenAddress}`,
            onClick: n => {
                n.preventDefault(), n.stopPropagation(), t(he(fe.NftContextMenu, {
                    nft: s
                }))
            },
            children: [e.jsx(en, {
                className: "w-4 h-4"
            }), e.jsx(je, {
                id: `nft-more-${s.chainId}-${s.tokenAddress}`,
                content: "Nft actions"
            })]
        })
    },
    ue = {
        nftId: "nft-header",
        ownerId: "owner-header",
        contractAddressId: "contractAddress-header",
        dateAcquiredId: "dateAcquired-header",
        purchasePriceId: "purchasePrice-header",
        floorPriceId: "floorPrice-header",
        estimatedValueId: "estimatedValue-header",
        networkId: "network-header"
    },
    yi = (s, t, n) => (s ? t.every(a => {
        var r;
        return !((r = a.acquisition) != null && r.createdAt)
    }) && (n.splice(n.findIndex(a => a.id === ue.dateAcquiredId), 1), t.map(a => a.hiddenCells = { ...a.hiddenCells,
        acquisitionDate: !0
    })) : (t.every(a => {
        var r;
        return !((r = a.acquisition) != null && r.createdAt)
    }) && (n.splice(n.findIndex(a => a.id === ue.dateAcquiredId), 1), t.map(a => a.hiddenCells = { ...a.hiddenCells,
        acquisitionDate: !0
    })), t.every(a => {
        var r, o;
        return !((o = (r = a.acquisition) == null ? void 0 : r.price) != null && o.usd)
    }) && (n.splice(n.findIndex(a => a.id === ue.purchasePriceId), 1), t.map(a => a.hiddenCells = { ...a.hiddenCells,
        purchasePrice: !0
    })), t.every(a => {
        var r, o;
        return !((o = (r = a.prices) == null ? void 0 : r.floor) != null && o.eth)
    }) && (n.splice(n.findIndex(a => a.id === ue.floorPriceId), 1), t.map(a => a.hiddenCells = { ...a.hiddenCells,
        floorPrice: !0
    })), t.every(a => {
        var r, o;
        return !((o = (r = a.prices) == null ? void 0 : r.estimate) != null && o.eth)
    }) && (n.splice(n.findIndex(a => a.id === ue.estimatedValueId), 1), t.map(a => a.hiddenCells = { ...a.hiddenCells,
        estimatedValue: !0
    }))), {
        arr: t,
        columns: n
    }),
    Ci = s => s.map(n => {
        let a = { ...n
        };
        if (n.prices) {
            if (n.prices.floor) {
                const r = parseFloat(n.prices.floor.eth);
                a = { ...a,
                    prices: { ...a.prices,
                        floor: {
                            eth: isNaN(r) ? null : r
                        }
                    }
                }
            }
            if (n.prices.estimate) {
                const r = parseFloat(n.prices.estimate.eth);
                a = { ...a,
                    prices: { ...a.prices,
                        estimate: {
                            eth: isNaN(r) ? null : r
                        }
                    }
                }
            }
        }
        if (n.acquisition && n.acquisition.price) {
            const r = parseFloat(n.acquisition.price.eth),
                o = parseFloat(n.acquisition.price.usd);
            a = { ...a,
                acquisition: { ...a.acquisition,
                    price: {
                        eth: isNaN(r) ? null : r,
                        usd: isNaN(o) ? null : o
                    }
                }
            }
        }
        return a
    }),
    Ai = ({
        nfts: s,
        isLoading: t
    }) => {
        const [n] = u.useState(G.Shown);
        return e.jsx(Bt.Provider, {
            value: {
                category: Es.Owned,
                filter: n
            },
            children: e.jsx(Us, {
                nfts: s,
                isLoading: t
            })
        })
    };

function jn({
    isGridView: s,
    selectedCollections: t,
    hideHeader: n = !1
}) {
    const a = B(),
        r = Ha(),
        o = S(Be, ee),
        {
            exchangeRates: l
        } = S(es),
        {
            isLoadingNfts: c
        } = S(Rs, ee),
        {
            isHiddenNftsView: i,
            showHiddenNftsView: x,
            isMarkingAsSuspicious: m,
            handleUpdateBatchNfts: h,
            filteredSuspiciousNfts: A
        } = Ve(),
        {
            nfts: g
        } = _a(),
        {
            newAccounts: p,
            selectedAccountAddresses: y,
            accounts: N
        } = te(),
        T = S(Te),
        {
            formatPriceWithCurrency: d,
            formatEtherWithCurrency: b
        } = Se(),
        [C, w] = u.useState(1),
        v = n || O ? 20 : 30,
        I = (C - 1) * v,
        P = C * v,
        R = o.includes(Ie.ChainId.GNOSIS),
        Y = ({
            nextPage: f
        }) => {
            w(f)
        };
    u.useEffect(() => () => x(!1), []);
    const se = [{
        id: ue.nftId,
        name: Me("home.nftList.nft"),
        className: "col-span-2",
        isForSuspicious: !0,
        isForNotSuspicious: !0,
        sortId: "name",
        sortSelector: () => f => {
            var M;
            return (M = f.name) == null ? void 0 : M.toLowerCase()
        }
    }, {
        id: ue.ownerId,
        name: Me("home.nftList.owner"),
        className: "hidden 2xl:table-cell col-span-1",
        isForSuspicious: !0,
        isForNotSuspicious: !0,
        sortId: "owner",
        sortSelector: () => f => f.accountAddress
    }, {
        id: ue.contractAddressId,
        name: Me("home.nftList.contractAddress"),
        className: "lg:table-cell col-span-1",
        isForSuspicious: !0,
        isForNotSuspicious: !0,
        sortId: "contractAddress",
        sortSelector: () => f => f.tokenAddress
    }, {
        id: ue.purchasePriceId,
        name: Me("home.nftList.purchasePrice"),
        className: "hidden lg:table-cell text-right lg:text-left col-span-2 ",
        isForSuspicious: !1,
        isForNotSuspicious: !0,
        sortId: "purchasePrice",
        sortSelector: f => M => {
            var E, V;
            return ((V = (E = M.acquisition) == null ? void 0 : E.price) == null ? void 0 : V.usd) ? ? (f === "asc" ? Number.MAX_VALUE : Number.MIN_VALUE)
        },
        sortDefault: !0
    }, {
        id: ue.estimatedValueId,
        name: Me("home.nftList.estimatedValue"),
        className: "hidden lg:table-cell text-right lg:text-left col-span-2 ",
        isForSuspicious: !1,
        isForNotSuspicious: !0,
        sortId: "estimatedValue",
        sortSelector: f => M => {
            var E, V;
            return ((V = (E = M.prices) == null ? void 0 : E.estimate) == null ? void 0 : V.eth) ? ? (f === "asc" ? Number.MAX_VALUE : Number.MIN_VALUE)
        }
    }, {
        id: ue.floorPriceId,
        name: Me("home.nftList.floorPrice"),
        className: "hidden xl:table-cell text-right lg:text-left col-span-1 ",
        isForSuspicious: !1,
        isForNotSuspicious: !0,
        sortId: "floorPrice",
        sortSelector: f => M => {
            var E, V;
            return ((V = (E = M.prices) == null ? void 0 : E.floor) == null ? void 0 : V.eth) ? ? (f === "asc" ? Number.MAX_VALUE : Number.MIN_VALUE)
        }
    }, {
        id: ue.networkId,
        name: Me("home.nftList.network"),
        className: "hidden lg:table-cell text-right lg:text-left col-span-2 ",
        isForSuspicious: !0,
        isForNotSuspicious: !1,
        sortId: "network",
        sortSelector: () => f => f.chainId
    }, {
        id: ue.dateAcquiredId,
        name: Me("home.nftList.dateAcquired"),
        className: "hidden 2xl:table-cell text-right lg:text-left col-span-2 ",
        isForSuspicious: !0,
        isForNotSuspicious: !0,
        sortId: "dateAcquired",
        sortSelector: f => M => {
            var E;
            return ((E = M.acquisition) == null ? void 0 : E.createdAt) ? ? (f === "asc" ? "9999" : "0000")
        }
    }];
    u.useEffect(() => {
        p.length && (async () => {
            let M = l;
            const E = await a(la());
            la.fulfilled.match(E) && (M = E.payload.exchangeRates), p.forEach(V => {
                a(_s(V.address, M, R))
            })
        })()
    }, [a, l, p, R]);
    const K = [...g.filter(f => y.includes(f.accountAddress) && o.includes(f.chainId))].map(f => {
            var Ce, de;
            const M = N.find(ne => ne.address.toLowerCase() === f.accountAddress.toLowerCase()),
                E = ((Ce = f == null ? void 0 : f.metadata) == null ? void 0 : Ce.image_url) || ((de = f == null ? void 0 : f.metadata) == null ? void 0 : de.image),
                V = E != null && E.includes("ipfs://ipfs") ? `${Ps}/ipfs/${E.slice(11)}` : E != null && E.includes("ipfs://") ? `${Ps}/ipfs/${E.slice(7)}` : E;
            return { ...f,
                image: V,
                account: M
            }
        }),
        pe = u.useMemo(() => A.map(f => {
            const M = N.find(E => E.address === f.accountAddress.toLowerCase());
            return { ...f,
                account: M
            }
        }), [N, A]);
    u.useEffect(() => {
        w(1)
    }, [i, t, y, o]);
    const le = K.filter(f => t.includes(f.tokenAddress)),
        ie = i ? pe : t.length > 0 ? le : K,
        ce = i ? pe.slice(I, P) : t.length > 0 ? le.slice(I, P) : K.slice(I, P),
        ae = S(Pe),
        be = Ci(ce),
        {
            sortType: Z,
            sortDirection: U,
            handleSort: Oe,
            sortedData: H
        } = nn({
            defaultValue: "purchasePrice desc",
            columns: se,
            data: be
        }),
        {
            arr: D,
            columns: X
        } = yi(i, H, se),
        j = X.filter(f => i ? f.isForSuspicious : f.isForNotSuspicious),
        _ = e.jsxs(e.Fragment, {
            children: [e.jsx(Ls, {
                variant: "inline",
                id: "suspicious-nft-banner",
                className: "mb-4",
                type: "critical",
                title: "Be careful",
                message: "Some NFTs can link to dangerous sites and put your assets at risk.",
                links: [{
                    linkText: "Learn more",
                    href: "https://support.metamask.io/hc/en-us/sections/11294597751963-Staying-Safe-in-Web3"
                }]
            }), e.jsxs("div", {
                children: [e.jsx("button", {
                    className: "pl-6",
                    onClick: () => x(!1),
                    children: e.jsxs("div", {
                        className: "mb-3 text-sm cursor-pointer flex min-w-0 items-center rounded-b-md",
                        children: [e.jsx("div", {
                            className: "text-alternative hover:bg-alternative-hover p-1 flex justify-center rounded-xl",
                            children: e.jsx(dt, {
                                className: "w-6 h-5"
                            })
                        }), e.jsx("div", {
                            className: "ml-3 text-alternative",
                            children: "NFTs"
                        })]
                    })
                }), !s && e.jsx("div", {
                    className: "pl-6 text-xl sm:text-2xl text-default font-bold mb-4",
                    children: "Hidden NFTs"
                })]
            })]
        });
    return s ? e.jsx("div", {
        id: "nfts-tab",
        children: c ? [1, 2, 3].map(f => e.jsx("div", {
            className: "border border-muted rounded-2xl p-4 w-full mx-auto my-5",
            children: e.jsx(ds, {})
        }, `nfts-tab-${f}`)) : ce.length > 0 ? O ? e.jsx(Ai, {
            nfts: ce,
            isLoading: c
        }) : e.jsxs("div", {
            className: "p-4 sm:p-6",
            children: [i && _, e.jsx(Us, {
                nfts: ce,
                isLoading: c
            }), e.jsx(_e, {
                totalCount: ie.length,
                currentPage: C,
                pageSize: v,
                onChange: Y
            })]
        }) : e.jsx(Ms, {})
    }) : e.jsx("div", {
        id: "nft-table",
        className: "flex flex-col -mx-4 sm:mx-0",
        children: c ? [1, 2, 3, 4].map(f => e.jsx("div", {
            className: "border border-muted rounded-2xl p-4 w-full mx-auto my-5",
            children: e.jsx(ds, {})
        }, `nfts-tab-${f}`)) : D.length > 0 ? e.jsxs("div", {
            className: "overflow-visible border-muted rounded-xl",
            children: [i && _, e.jsxs("table", {
                children: [e.jsx("thead", {
                    children: e.jsx("tr", {
                        children: j.map(f => e.jsx("th", {
                            id: f.id,
                            className: k(f.className, "cursor-pointer font-normal", {
                                "text-primary-default font-semibold": Z === f.sortId
                            }),
                            onClick: Oe(f.sortId),
                            children: e.jsxs("div", {
                                id: `${f.id}-data`,
                                className: "flex items-center",
                                children: [f.name, e.jsxs("div", {
                                    className: k("flex flex-col items-center ml-2", {
                                        visible: Z === f.sortId,
                                        invisible: Z !== f.sortId
                                    }),
                                    children: [e.jsx(pa, {
                                        className: k("mb-1", {
                                            "fill-primary-default": U === "asc",
                                            "fill-icon-alternative": U !== "asc"
                                        })
                                    }), e.jsx(pa, {
                                        className: k("rotate-180", {
                                            "fill-primary-default": U === "desc",
                                            "fill-icon-alternative": U !== "desc"
                                        })
                                    })]
                                })]
                            })
                        }, f.id))
                    })
                }), e.jsx("tbody", {
                    className: "sm:divide-y divide-muted pb-10",
                    children: D.map((f, M) => {
                        var E, V, Ce, de, ne, ze, gs, as, ns, Ut, Ht, zt, qt, Gt, Kt, Zt, Xt, Qt;
                        return e.jsxs("tr", {
                            className: "cursor-pointer hover:bg-alternative group",
                            onClick: js => {
                                js.preventDefault(), js.stopPropagation(), m ? h(f) : (qa({
                                    address: f.tokenAddress
                                }), a(he(fe.NftDetail, {
                                    nft: f
                                }, O ? xt : {
                                    content: {
                                        width: "60%",
                                        maxWidth: "900px",
                                        maxHeight: "95%"
                                    }
                                })), r == null || r.track("NFT Detail Clicked"))
                            },
                            children: [e.jsx(bi, {
                                nft: f
                            }), e.jsx("td", {
                                className: "hidden 2xl:table-cell",
                                children: e.jsx(Ne, {
                                    className: "2xl:col-span-2 xl:flex",
                                    onClick: js => {
                                        js.stopPropagation()
                                    },
                                    children: e.jsx(mn, {
                                        account: f.account,
                                        accountIdenticonType: ae
                                    })
                                })
                            }), e.jsx("td", {
                                children: e.jsx("a", {
                                    href: `${we[f.chainId].blockExplorerUrl}/address/${(E=f.tokenAddress)==null?void 0:E.toLowerCase()}`,
                                    target: "_blank",
                                    rel: "noreferrer",
                                    className: "text-primary-default",
                                    children: e.jsx("div", {
                                        children: $(f.tokenAddress, 12)
                                    })
                                })
                            }), !((V = f.hiddenCells) != null && V.purchasePrice) && !i && e.jsx("td", {
                                className: "hidden lg:table-cell",
                                children: (de = (Ce = f.acquisition) == null ? void 0 : Ce.price) != null && de.usd ? T ? J : d(parseFloat((ze = (ne = f.acquisition) == null ? void 0 : ne.price) == null ? void 0 : ze.usd)) : "-"
                            }), !((gs = f.hiddenCells) != null && gs.estimatedValue) && !i && e.jsx("td", {
                                className: "hidden lg:table-cell",
                                children: (ns = (as = f.prices) == null ? void 0 : as.estimate) != null && ns.eth ? T ? J : b(parseFloat((Ht = (Ut = f.prices) == null ? void 0 : Ut.estimate) == null ? void 0 : Ht.eth)) : "-"
                            }), !((zt = f.hiddenCells) != null && zt.floorPrice) && !i && e.jsx("td", {
                                className: "hidden xl:table-cell",
                                children: (Gt = (qt = f.prices) == null ? void 0 : qt.floor) != null && Gt.eth ? T ? J : b(parseFloat((Zt = (Kt = f.prices) == null ? void 0 : Kt.floor) == null ? void 0 : Zt.eth)) : "-"
                            }), i && e.jsxs("td", {
                                className: "hidden lg:table-cell",
                                children: [" ", we[f.chainId].chainShortName]
                            }), !((Xt = f.hiddenCells) != null && Xt.acquisitionDate) && e.jsx("td", {
                                className: "hidden 2xl:table-cell",
                                children: (Qt = f.acquisition) != null && Qt.createdAt ? Zr(new Date(f.acquisition.createdAt).getTime(), !0) : "-"
                            }), e.jsx("td", {
                                className: "px-0 sm:px-6 w-6 sm:w-auto",
                                children: e.jsx("div", {
                                    className: "mr-2 md:mr-0 md:invisible group-hover:visible",
                                    children: O ? e.jsx(wi, {
                                        nft: f
                                    }) : e.jsxs(vi, {
                                        nft: f,
                                        children: [e.jsx($a, {
                                            nft: f
                                        }), e.jsx(Wa, {
                                            nft: f
                                        }), e.jsx(Ua, {
                                            nft: f
                                        })]
                                    })
                                })
                            })]
                        }, `${f.chainId}-${f.accountAddress}-${f.name}-${f.tokenId}-${M}`)
                    })
                })]
            }), i ? e.jsx(_e, {
                totalCount: ie.length,
                currentPage: C,
                pageSize: v,
                onChange: Y
            }) : e.jsx(_e, {
                totalCount: ie.length,
                currentPage: C,
                pageSize: v,
                onChange: Y
            })]
        }) : e.jsx(Ms, {})
    })
}
const Nn = () => {
        const s = B(),
            {
                t
            } = F(),
            {
                isHiddenTransactionsView: n
            } = Ra(),
            a = u.useRef(null);
        Ee(a, () => o(!1));
        const [r, o] = u.useState(!1);
        return O ? e.jsx(us, {
            onClick: () => s(xs({
                name: hs.TransactionsActions
            })),
            children: t("home.more")
        }) : e.jsxs("div", {
            className: "relative sm:inline-block text-left mb-4",
            ref: a,
            children: [e.jsx($e, {
                id: "portfolio-transaction-actions",
                "data-tooltip-id": "hidden-transactions",
                onClick: l => {
                    l.preventDefault(), l.stopPropagation(), o(!r)
                },
                value: "More",
                className: "py-2.5"
            }), e.jsx(Ue, {
                as: u.Fragment,
                show: r,
                enter: "transition ease-out duration-100",
                enterFrom: "transform opacity-0 scale-95",
                enterTo: "transform opacity-100 scale-100",
                leave: "transition ease-in duration-75",
                leaveFrom: "transform opacity-100 scale-100",
                leaveTo: "transform opacity-0 scale-95",
                children: e.jsx("div", {
                    className: "absolute z-10 w-screen left-0 sm:w-max sm:min-w-[16rem] mt-1 origin-bottom-right bg-default rounded-md shadow-lg border border-muted p-1",
                    children: e.jsx(Xr, {
                        close: () => o(!1)
                    })
                })
            }), e.jsx(je, {
                id: "hidden-transactions",
                content: t(n ? "home.transactions.tooltipHidden" : "home.transactions.tooltipExcludeHidden")
            })]
        })
    },
    Si = () => {
        const {
            transactions: s
        } = S(Va, ee);
        return e.jsx("div", {
            className: "hidden md:flex justify-between",
            children: s.length > 0 && e.jsx("div", {
                className: "flex space-x-3 items-center",
                children: e.jsx(Qr, {
                    data: s,
                    onClick: () => {
                        Yr({
                            download_type: "csv",
                            app_source: "portfolio",
                            download_object: "portfolio_transactions"
                        })
                    },
                    filename: `portfolio-transactions-${new Date().toISOString()}.csv`,
                    target: "_blank",
                    children: e.jsx(xe, {
                        variant: "outline",
                        children: e.jsx(Jr, {
                            className: "h-5"
                        })
                    })
                })
            })
        })
    },
    qe = () => {
        const s = B(),
            {
                data: t
            } = Le(Ws);
        return O ? e.jsx(us, {
            onClick: () => s(xs({
                name: hs.AccountsView
            })),
            children: "All Accounts"
        }) : e.jsx(Jo, {
            accountTypeFilter: fs.ALL,
            accountValues: t,
            className: "sm:h-[42px]",
            dropdownClassName: "sm:!left-0"
        })
    },
    Ge = () => {
        const s = B(),
            {
                t
            } = F(),
            {
                selectedAccountAddresses: n
            } = te(fs.ALL),
            {
                data: a
            } = Le(Ws),
            r = a.filter(o => n.includes(o.accountAddress));
        return O ? e.jsx(us, {
            onClick: () => s(xs({
                name: hs.NetworksView,
                data: {
                    accountValues: r
                },
                onClose: () => s(La())
            })),
            children: t("home.allNetworks")
        }) : e.jsx(dn, {
            accountValues: r,
            dropdownListClassName: "sm:!left-0"
        })
    },
    Ti = "11579208923731619542357";

function ki(s, t = 18) {
    if (s.startsWith(Ti)) return "Unlimited";
    const n = eo.from(s),
        a = parseFloat(so(n, t));
    return new Intl.NumberFormat("en-US", {
        maximumFractionDigits: 2
    }).format(a)
}

function Ss(s) {
    return s > Ts("500000", "gwei").toNumber()
}
const ya = [{
        name: "approve",
        inputs: [{
            internalType: "address",
            name: "spender",
            type: "address"
        }, {
            internalType: "uint256",
            name: "amount",
            type: "uint256"
        }],
        outputs: [{
            internalType: "bool",
            name: "",
            type: "bool"
        }],
        stateMutability: "nonpayable",
        type: "function"
    }, {
        name: "allowance",
        inputs: [{
            internalType: "address",
            name: "owner",
            type: "address"
        }, {
            internalType: "address",
            name: "spender",
            type: "address"
        }],
        outputs: [{
            internalType: "uint256",
            name: "",
            type: "uint256"
        }],
        stateMutability: "view",
        type: "function"
    }],
    Ii = ({
        href: s,
        children: t,
        endIcon: n = e.jsx(Is, {
            className: "w-4 h-4 text-current",
            strokeWidth: "2.2px"
        })
    }) => e.jsx(We, {
        variant: "filled",
        className: "font-medium max-w-min px-[10px] truncate",
        endIcon: n,
        href: s,
        children: t
    });

function Ei({
    token: s,
    accountAddress: t,
    network: n,
    contractAddress: a,
    onAllowanceRevoked: r
}) {
    const {
        t: o
    } = F(), {
        isOnNetwork: l,
        switchToNetwork: c
    } = to(n), [i, x] = u.useState(!1), m = B(), [h, A] = u.useState(!1), [g, p] = u.useState(!1), [y, N] = u.useState(!1), [T, d] = u.useState(!1), [b, C] = u.useState(!1), w = ao(), {
        refetch: v,
        isFetching: I
    } = sn({
        addresses: [t],
        networks: [Number(n)]
    });
    u.useEffect(() => {
        (async () => {
            const M = await (w == null ? void 0 : w.getAddress()),
                E = M && t.toLowerCase() === M.toLowerCase();
            x(!!E), E && m(ro())
        })()
    }, [w, t, m]), u.useEffect(() => {
        I === !1 && b === !0 && C(!1)
    }, [b, I]);
    const P = !T && !g && !I,
        R = b || T,
        Y = ki(s.allowance, s.decimals),
        se = !!(s.allowance === "0" || R),
        [L, K] = u.useState(Y),
        pe = Y === "Unlimited" ? o("allowances.infinity") : `${Y} ${s.symbol}`,
        le = ca[n],
        ie = (le == null ? void 0 : le.chainShortName) || "Unknown",
        {
            iconUrl: ce
        } = ca[n] ? ? 1,
        ae = s.readableSpenderName ? ? $(s.spenderAddress, O ? 10 : 12),
        be = u.useRef(null),
        Z = () => {
            p(!0), bs({
                action: vs.Initiate,
                protocol: ae
            }), setTimeout(() => {
                var f;
                (f = be.current) == null || f.focus()
            }, 1)
        },
        U = () => {
            p(!1), bs({
                action: vs.Cancel,
                protocol: ae
            })
        },
        Oe = f => {
            K(f.target.value)
        },
        H = u.useCallback(async () => {
            await c(), A(!0)
        }, [c]),
        D = u.useCallback(async () => {
            d(!0);
            try {
                if (!i) {
                    m(he(fe.ChangeAccountWarning, {
                        accountAddress: t
                    })), d(!1);
                    return
                }
                if (!l) {
                    H(), d(!1);
                    return
                }
                const f = await (w == null ? void 0 : w.getGasPrice());
                if (Ss((f == null ? void 0 : f.toNumber()) ? ? 0)) throw new Error("Gas price is probably a scam");
                const M = new ia(a, ya, w),
                    E = await M.estimateGas.approve(s.spenderAddress, Ts("0", s.decimals));
                if (Ss((E == null ? void 0 : E.toNumber()) ? ? 0)) throw new Error("Gas price is probably a scam");
                const V = await M.approve(s.spenderAddress, Ts("0", s.decimals), {
                    gasLimit: E.mul(2)
                });
                bs({
                    action: vs.Confirmed,
                    protocol: ae
                }), await V.wait(1), v(), r({
                    data: [s],
                    accountAddress: t,
                    network: n,
                    isEdit: !1
                }), C(!0)
            } catch (f) {
                console.error(f)
            } finally {
                d(!1)
            }
        }, [t, a, H, l, i, m, n, r, v, w, ae, s]);
    u.useEffect(() => {
        var M, E;
        h && w && ((E = (M = w.provider) == null ? void 0 : M._network) == null ? void 0 : E.chainId) === n && (D(), A(!1))
    }, [h, w, n, D]);
    const X = async () => {
            if (d(!0), !i) {
                m(he(fe.ChangeAccountWarning, {
                    accountAddress: t
                })), d(!1);
                return
            }
            if (!l) {
                H(), d(!1);
                return
            }
            const f = await (w == null ? void 0 : w.getGasPrice());
            if (Ss((f == null ? void 0 : f.toNumber()) ? ? 0)) throw new Error("Gas price is probably a scam");
            const M = new ia(a, ya, w);
            try {
                const E = L === "Unlimited" ? "0" : Ts(L, s.decimals),
                    V = await M.estimateGas.approve(s.spenderAddress, E);
                if (Ss((V == null ? void 0 : V.toNumber()) ? ? 0)) throw new Error("Gas price is probably a scam");
                const Ce = await M.approve(s.spenderAddress, E, {
                    gasLimit: V.mul(2)
                });
                p(!1), bs({
                    action: vs.Confirmed,
                    protocol: ae
                }), await Ce.wait(1), r({
                    data: [{ ...s,
                        allowance: E.toString()
                    }],
                    accountAddress: t,
                    network: n,
                    isEdit: !0
                })
            } catch (E) {
                console.error(E)
            } finally {
                p(!1), d(!1)
            }
        },
        j = f => {
            f.key === "Enter" && X(), f.key === "Escape" && U()
        },
        _ = () => {
            N(!0)
        };
    return e.jsxs("tr", {
        className: "h-4",
        children: [e.jsxs("td", {
            className: "items-center space-x-3 flex px-0 md:pr-4",
            children: [y ? e.jsx(ot, {
                token: {
                    address: s.spenderAddress,
                    symbol: s.symbol
                },
                chainId: 1,
                className: "mr-4 aspect-square"
            }) : e.jsx(Vs, {
                avatar: e.jsx("img", {
                    src: s.iconUrl,
                    alt: s.name,
                    className: "w-8 h-8 mr-2"
                }),
                badgeIcon: e.jsx("img", {
                    src: ce,
                    alt: `${ie} network icon`,
                    className: "rounded-full -top-2 -right-2"
                }),
                badgePosition: "topRight",
                onError: _,
                className: "w-8 h-8"
            }), e.jsxs("div", {
                className: "flex flex-col",
                children: [e.jsx("span", {
                    className: "text-sm capitalize font-normal",
                    children: s.symbol
                }), e.jsx("span", {
                    className: "text-xs md:hidden",
                    children: Y
                }), e.jsxs("span", {
                    className: "text-xs hidden md:block",
                    children: [ie, " ", e.jsx("span", {
                        className: "lowercase",
                        children: o("home.networksTable.network")
                    })]
                })]
            })]
        }), e.jsx("td", {
            className: "hidden xl:table-cell truncate px-0",
            children: $(t, O ? 10 : 12)
        }), e.jsx("td", {
            className: "hidden md:table-cell px-0",
            children: e.jsx("div", {
                className: "w-[100%] text-xs pr-6",
                children: e.jsx(Ii, {
                    href: `https://etherscan.io/address/${s.spenderAddress}`,
                    children: ae
                })
            })
        }), e.jsx("td", {
            className: "group hidden md:table-cell px-0 w-36",
            children: g ? e.jsx($s, {
                type: "number",
                className: "h-8",
                ref: be,
                value: L === "Unlimited" ? "0" : L,
                min: 0,
                onChange: Oe,
                onKeyDown: j
            }) : e.jsx(e.Fragment, {
                children: e.jsxs(Ne, {
                    className: "flex space-x-2 items-center hover:cursor-pointer",
                    onClick: Z,
                    children: [e.jsx("span", {
                        className: "truncate w-18",
                        children: R ? e.jsx(ps, {
                            className: "h-8 w-16"
                        }) : pe
                    }), P && e.jsxs("button", {
                        name: o("allowances.edit"),
                        children: [e.jsx(no, {
                            className: "opacity-0 group-hover:opacity-100 w-4 h-4"
                        }), e.jsx("span", {
                            className: "sr-only",
                            children: o("allowances.edit")
                        })]
                    })]
                })
            })
        }), e.jsx("td", {
            align: "right",
            className: "w-[240px]",
            children: g ? e.jsxs("div", {
                className: "flex space-x-2",
                children: [e.jsx(xe, {
                    name: o("allowances.cancel"),
                    variant: "outline",
                    onClick: U,
                    children: o("allowances.cancel")
                }), e.jsx(xe, {
                    name: o("main.confirm"),
                    onClick: X,
                    children: o("main.confirm")
                })]
            }) : e.jsx(xe, {
                name: o("allowances.revoke"),
                disabled: se,
                onClick: D,
                children: o("allowances.revoke")
            })
        })]
    })
}

function Li({
    data: s,
    accountAddress: t,
    network: n,
    onAllowanceRevoked: a
}) {
    return e.jsx(z.Fragment, {
        children: s.map(r => e.jsx(Ei, {
            onAllowanceRevoked: a,
            network: n,
            token: r,
            accountAddress: t,
            contractAddress: r.contractAddress
        }, `${r.name}-${r.spenderAddress}`))
    })
}
const zs = ({
        title: s,
        subtitle: t,
        button: n
    }) => e.jsx(ye, {
        title: s,
        subtitle: t,
        icon: e.jsx(Ye, {
            className: "w-6 h-6"
        }),
        button: n,
        transparent: !0
    }),
    Pi = s => s.supportedFeatures.includes(oo.ALLOWANCES),
    Oi = s => s.chainId,
    Mi = Object.values(we).filter(Pi).map(Oi);

function bn() {
    const {
        t: s
    } = F(), t = S(Be, ee), {
        accounts: n
    } = te(), {
        hasWatchedAccountSelected: a
    } = ge(), r = B(), o = u.useMemo(() => n.filter(d => d.selected && !d.readOnly).map(d => d.address), [n]), l = o.length > 0, c = Mi.filter(d => t.includes(d)), {
        data: i,
        isLoading: x
    } = sn({
        addresses: o,
        networks: c.map(d => Number(d))
    }, {
        skip: !l
    }), [m, h] = u.useState();
    u.useEffect(() => {
        h(i == null ? void 0 : i.filter(d => "data" in d))
    }, [i]);
    const A = u.useCallback(d => {
            const b = C => C.contractAddress === d.data[0].contractAddress && C.spenderAddress === d.data[0].spenderAddress;
            h(C => C == null ? void 0 : C.map(w => {
                if (w.accountAddress === d.accountAddress && w.network === d.network) {
                    const v = w.data.map(I => b(I) ? d.isEdit ? { ...I,
                        allowance: d.data[0].allowance
                    } : null : I).filter(Boolean);
                    return { ...w,
                        data: v
                    }
                }
                return w
            }))
        }, []),
        g = i && i.length > 0 && i.filter(d => "data" in d)[0].data.length > 0,
        p = !!(l && g),
        y = !a && (c.length === 0 || o.length === 0),
        N = !!(l && !g && !y),
        T = () => {
            vt({}), r(he(fe.AddAccount, null, {
                content: {
                    maxWidth: "36rem"
                }
            }))
        };
    return x ? e.jsx(Fi, {}) : e.jsxs("div", {
        className: "px-2",
        children: [e.jsx(vn, {}), p && e.jsx("div", {
            id: "allowances-table",
            className: "rounded-lg",
            children: e.jsxs("table", {
                className: "table-auto min-w-full max-w-3xl mt-2",
                children: [e.jsx("thead", {
                    className: "border-b border-muted hidden md:table-header-group",
                    children: e.jsxs("tr", {
                        className: "text-sm text-alternative border-b border-muted",
                        children: [e.jsxs("th", {
                            className: "text-left px-0 flex",
                            children: [s("allowances.columns.token"), e.jsx(ss, {
                                id: "token",
                                tooltipText: s("allowances.tooltip")
                            })]
                        }), e.jsx("th", {
                            className: "text-left hidden xl:table-cell w-36 px-0",
                            children: s("allowances.columns.account")
                        }), e.jsx("th", {
                            className: "text-left px-0",
                            children: s("allowances.columns.smartContractEOA")
                        }), e.jsx("th", {
                            className: "text-left px-0",
                            children: s("allowances.columns.allowance")
                        }), e.jsx("th", {
                            className: "text-left px-0 w-[242px]"
                        })]
                    })
                }), e.jsx("tbody", {
                    className: "divide-y divide-muted",
                    children: m && m.filter(d => "data" in d).map(d => e.jsx(Li, {
                        onAllowanceRevoked: A,
                        ...d
                    }, `${d.accountAddress}-${d.network}`))
                })]
            })
        }), a && e.jsx(zs, {
            title: s("allowances.connectAccount"),
            subtitle: s("allowances.connectAccountExplainer"),
            button: e.jsx(xe, {
                id: "add-account-button",
                onClick: T,
                className: "h-12 w-96 max-w-full mx-auto mt-4",
                children: s("main.accountConnect.connectWallet")
            })
        }), N && e.jsx(zs, {
            title: s("allowances.noAllowances"),
            subtitle: s("allowances.noAllowancesExplainer")
        }), y && e.jsx(zs, {
            title: s("allowances.updateFilters"),
            subtitle: s("allowances.updateFiltersExplainer")
        })]
    })
}
const vn = () => {
        const {
            t: s
        } = F();
        return e.jsxs("div", {
            className: "mb-8 pt-4",
            children: [e.jsx("div", {
                className: "text-default mb-2",
                children: s("allowances.title")
            }), e.jsx("div", {
                className: "text-alternative",
                children: s("allowances.caption")
            })]
        })
    },
    Fi = () => e.jsxs(e.Fragment, {
        children: [e.jsx(vn, {}), e.jsx("div", {
            className: "w-full mt-12 flex justify-center items-center",
            children: e.jsx(Pa, {
                size: "md"
            })
        })]
    }),
    Di = ({
        accounts: s,
        mappedAccountBalances: t
    }) => {
        const {
            formatPriceWithCurrency: n
        } = Se(), {
            requestInfo: {
                isLoading: a
            }
        } = Le(ka), r = S(Pe), o = S(Te);
        return e.jsx(e.Fragment, {
            children: a ? [1, 2, 3].map(l => e.jsx("div", {
                className: "shadow last:shadow-none dark:shadow border border-muted rounded-2xl p-4 w-full mx-auto",
                children: e.jsx(ds, {})
            }, `account-tokens-card-${l}`)) : Object.entries(t).length > 0 ? Object.entries(t).map(([l, c]) => {
                const i = s.find(g => g.address === l),
                    x = c.reduce((g, p) => g + (p == null ? void 0 : p.value.marketValue), 0),
                    m = [...new Set(c.map(g => g.chainId))],
                    h = Object.values(we).filter(g => m.includes(g.chainId)),
                    A = ms(c, "chainId");
                return i ? e.jsxs(un, {
                    defaultOpen: !0,
                    id: `account-card-list-${l}`,
                    children: [e.jsxs(xn, {
                        children: [e.jsx(Ae, {
                            accountIdenticonType: r,
                            address: i.address,
                            avatarUri: i == null ? void 0 : i.ensAvatar,
                            size: 8,
                            className: "rounded-full flex-shrink-0"
                        }), e.jsx("div", {
                            className: "ml-3",
                            children: e.jsxs("div", {
                                className: "flex items-center space-x-3",
                                children: [e.jsxs("div", {
                                    children: [e.jsx("div", {
                                        className: "text-left font-semibold text-default",
                                        children: $(i.name, 12)
                                    }), e.jsxs("div", {
                                        className: "flex text-xs",
                                        children: ["(", $(i.address, 12), ")"]
                                    })]
                                }), e.jsx(Ma, {
                                    id: "account-card",
                                    size: "xs",
                                    valueToCopy: i.address,
                                    className: "invisible sm:visible",
                                    applyButtonStyles: !0
                                }), e.jsx("div", {
                                    className: "hidden sm:flex",
                                    children: O ? e.jsx(rl, {
                                        account: i,
                                        accountBalances: c
                                    }) : e.jsx(ol, {
                                        account: i,
                                        accountBalances: c
                                    })
                                })]
                            })
                        }), e.jsx("div", {
                            className: "flex flex-1 justify-end items-center space-x-2",
                            children: e.jsxs("div", {
                                className: "flex items-center space-x-4 pl-1 py-1 text-sm font-medium",
                                children: [e.jsx("div", {
                                    className: "-space-x-1 overflow-hidden items-center hidden sm:flex",
                                    children: h.map(g => {
                                        const p = c.filter(y => g.chainId === y.chainId).reduce((y, N) => y + (N == null ? void 0 : N.value.marketValue), 0);
                                        return e.jsxs("div", {
                                            className: "flex group items-center",
                                            children: [e.jsx("img", {
                                                className: "inline-block h-6 w-6 rounded-full",
                                                src: g.iconUrl,
                                                alt: g.chainShortName
                                            }, g.chainId), e.jsx("span", {
                                                className: "invisible w-0 group-hover:w-full group-hover:visible group-hover:ml-2 group-hover:mr-3 transition-all ease-in-out duration-3000",
                                                children: n(p)
                                            })]
                                        }, `network-value-${g.chainId}`)
                                    })
                                }), e.jsx("div", {
                                    className: "font-semibold sm:text-lg text-alternative",
                                    children: o ? J : n(x)
                                })]
                            })
                        })]
                    }), e.jsx(hn, {
                        children: Object.entries(A).map(([g, p]) => {
                            const y = lo(g),
                                N = we[y],
                                T = p.filter(b => y === b.chainId).reduce((b, C) => b + (C == null ? void 0 : C.value.marketValue), 0),
                                d = p.map(b => ({ ...b,
                                    accounts: [i]
                                }));
                            return e.jsxs(u.Fragment, {
                                children: [e.jsxs("div", {
                                    className: "flex items-center justify-between py-2 px-4 sm:px-6 first:border-t-0 border-t border-b border-muted bg-alternative",
                                    children: [e.jsx("div", {
                                        className: "font-semibold text-alternative",
                                        children: N.chainShortName
                                    }), e.jsx("div", {
                                        className: "font-semibold text-alternative",
                                        children: o ? J : n(T)
                                    })]
                                }), e.jsx("div", {
                                    className: "px-4 md:px-0",
                                    children: e.jsx(Ft, {
                                        tokens: d,
                                        isAccountView: !0
                                    })
                                })]
                            }, `card-values-${g}`)
                        })
                    })]
                }, `account-card-list-${l}`) : e.jsx("div", {})
            }) : e.jsx(cn, {
                isHiddenTokensView: !1
            })
        })
    },
    _t = () => {
        const {
            t: s
        } = F(), t = "spending-caps", a = new URLSearchParams(location.search.slice(1)).get("tab"), {
            isCentralizedSelection: r,
            allNonCustodialAccountsSelected: o,
            isBitcoinAccountSelected: l
        } = ge(), {
            selectedConnectedAccountAddresses: c
        } = te(), i = (!o || c.length > 0 || a === t) && !r, x = [{
            id: "tokens",
            name: s("main.tokens"),
            active: !0,
            isCexSupported: !0,
            isBtcSupported: !0
        }, {
            id: "nfts",
            name: s("main.nfts"),
            active: !0
        }, {
            id: "defi",
            name: s("main.defi"),
            active: !0
        }, {
            id: "transactions",
            name: s("main.transactions"),
            active: !0,
            isCexSupported: !0,
            isBtcSupported: !0
        }, {
            id: t,
            name: s("allowances.title"),
            active: i
        }].filter(p => p.active && (!r || r && p.isCexSupported) && (!l || l && p.isBtcSupported)), m = x.find(p => p.id === a), h = m ? x.indexOf(m) : 0, A = (m == null ? void 0 : m.id) === "nfts";
        return {
            defiTabSelected: (m == null ? void 0 : m.id) === "defi",
            allowancesId: t,
            enableAllowances: i,
            nftTabSelected: A,
            tabs: x,
            selectedTabIndex: h
        }
    };
var me = (s => (s[s.ACCOUNTS_VIEW = 0] = "ACCOUNTS_VIEW", s[s.ACTIVITY_TAB = 1] = "ACTIVITY_TAB", s[s.ALLOWANCES = 2] = "ALLOWANCES", s[s.CSV_TRANSACTIONS = 3] = "CSV_TRANSACTIONS", s[s.DEFI_POSITIONS = 4] = "DEFI_POSITIONS", s[s.NETWORKS_VIEW = 5] = "NETWORKS_VIEW", s[s.NFT_ACTIONS_MENU = 6] = "NFT_ACTIONS_MENU", s[s.NFT_COLLECTION_PICKER = 7] = "NFT_COLLECTION_PICKER", s[s.NFT_TABS = 8] = "NFT_TABS", s[s.NFT_VIEW = 9] = "NFT_VIEW", s[s.PORTFOLIO_ACTIONS = 10] = "PORTFOLIO_ACTIONS", s[s.TRANSACTION_ACTIONS = 11] = "TRANSACTION_ACTIONS", s))(me || {});
const wn = () => {
        const {
            isHiddenNftsView: s
        } = Ve(), {
            accounts: t,
            selectedAccountAddresses: n
        } = te(fs.ALL), {
            defiTabSelected: a,
            allowancesId: r,
            enableAllowances: o,
            nftTabSelected: l
        } = _t(), {
            isCentralizedSelection: c,
            allNonCustodialAccountsSelected: i,
            isBitcoinAccountSelected: x
        } = ge(), m = mt(), h = m === "portfolio", A = m === "transactions";
        io(void 0);
        const [g, p] = u.useState(sessionStorage.getItem("assetViewType") || "table"), [y, N] = u.useState(!0), [T, d] = u.useState(0), b = y ? 0 : 1, [C, w] = u.useState([]), {
            aggregatedTokenBalances: v,
            hiddenTokenBalances: I,
            mappedAccountBalances: P
        } = gt(n);
        u.useLayoutEffect(() => {
            N(!s)
        }, [s]);
        const R = g !== "accounts" ? e.jsx(Ft, {
                tokens: v,
                hiddenTokens: I
            }) : e.jsx("div", {
                className: "flex flex-col space-y-5",
                children: e.jsx(Di, {
                    accounts: t,
                    mappedAccountBalances: P
                })
            }),
            Y = {
                0: i,
                1: !c && !x,
                2: o && !c && !x,
                3: A && !c,
                4: !c && !x,
                5: !c && !x,
                6: l && !c,
                7: l && !s && !c && !x,
                8: l && !s && !c && !x,
                9: !c && !x,
                10: h && !a && !c && !x,
                11: A && T > 0 && !c
            };
        return {
            setIsGridView: N,
            isGridView: y,
            selectedgridListTabsIndex: b,
            selectedCollections: C,
            setSelectedCollections: w,
            setHiddenTxCount: d,
            mappedAccountBalances: P,
            isFeatureEnabled: L => Y[L],
            tokenDisplayView: R,
            allowancesId: r,
            isCentralizedSelection: c,
            showTransactionsActions: A,
            assetViewType: g,
            isHiddenNftsView: s,
            setAssetViewType: p,
            hiddenTxCount: T,
            isBitcoinAccountSelected: x
        }
    },
    yn = ({
        children: s
    }) => {
        const t = Je(),
            n = Ya(),
            {
                tabs: a,
                selectedTabIndex: r
            } = _t(),
            o = l => {
                t(`${n.pathname}?tab=${l.toLowerCase().replace(" ","-")}`)
            };
        return e.jsxs(jt, {
            onChange: l => {
                const c = a[l] || a[0];
                o(c.id), Ja({
                    tab: c
                })
            },
            selectedIndex: r,
            variant: "link",
            children: [e.jsx(Nt, {
                className: k("static space-x-3 sm:-mx-6", {
                    "overflow-x-scroll hide-scrollbar": O,
                    "border-b border-muted sm:-mx-6": !O
                }),
                children: a.map(({
                    id: l,
                    name: c
                }) => e.jsx(Os, {
                    className: "whitespace-nowrap lg:px-4 xl:px-12",
                    children: c
                }, l))
            }), s]
        })
    },
    Cn = ({
        onTabChange: s,
        selectedGridIndex: t
    }) => e.jsx(jt, {
        onChange: s,
        selectedIndex: t,
        variant: "pill",
        className: "h-[43px] flex-shrink-0 ",
        children: e.jsxs(Nt, {
            children: [e.jsx(Os, {
                children: e.jsx(gl, {})
            }, "grid"), e.jsx(Os, {
                children: e.jsx(co, {})
            }, "list")]
        })
    }),
    $t = () => {
        const s = S(wt),
            t = S(mo),
            n = u.useMemo(() => s.filter(i => !i.needsRepair).reduce((i, x) => i += x.totalFiatBalance ? ? 0, 0), [s]),
            a = u.useMemo(() => t.filter(i => !i.needsRepair), [t]),
            r = u.useMemo(() => a.reduce((i, x) => i += x.totalFiatBalance ? ? 0, 0), [a]),
            o = u.useCallback(i => {
                const x = i.reduce((m, h) => (m[h.symbol] ? (m[h.symbol].amount += h.amount, h.fiatValue !== null && (m[h.symbol].fiatValue = (m[h.symbol].fiatValue ? ? 0) + h.fiatValue)) : m[h.symbol] = { ...h
                }, m), {});
                return Object.values(x)
            }, []),
            l = u.useMemo(() => a.filter(i => i.balances && i.balances.length > 0).flatMap(i => i.balances || []).filter(i => i.symbol !== "USD"), [a]),
            c = u.useMemo(() => o(l).map(x => {
                if (x.fiatValue === null) return { ...x,
                    portfolioValuePercentage: null
                };
                const m = (parseFloat(x.fiatValue) / n * 100).toFixed(2);
                return { ...x,
                    portfolioValuePercentage: m
                }
            }), [o, l, n]);
        return {
            totalCexPortfolioValue: n,
            selectedCexPortfolioValue: r,
            selectedCexBalances: l,
            selectedCexTokenBalances: c
        }
    },
    Bi = s => {
        const [t, n] = u.useState("fiatValue"), [a, r] = u.useState("asc"), o = u.useMemo(() => [...s].sort((i, x) => {
            let m = i[t],
                h = x[t];
            return m = m ? parseFloat(m.toString().replace("%", "")) : null, h = h ? parseFloat(h.toString().replace("%", "")) : null, m === null ? a === "asc" ? 1 : -1 : h === null ? a === "asc" ? -1 : 1 : m < h ? a === "asc" ? 1 : -1 : m > h ? a === "asc" ? -1 : 1 : 0
        }), [s, t, a]), l = i => {
            t === i ? r(a === "asc" ? "desc" : "asc") : (n(i), r("asc"))
        };
        return {
            handleSort: l,
            sortedBalances: o,
            sortColumn: t,
            sortDirection: a,
            tokenTableColumns: [{
                title: "Tokens",
                sortId: "symbol",
                onClick: () => l("symbol")
            }, {
                title: "Portfolio %",
                sortId: "portfolioValuePercentage",
                onClick: () => l("portfolioValuePercentage")
            }, {
                title: "Price",
                sortId: "price",
                onClick: () => l("price"),
                className: "hidden lg:flex"
            }, {
                title: "Holdings",
                sortId: "fiatValue",
                onClick: () => l("fiatValue")
            }]
        }
    },
    Vi = () => {
        const {
            selectedCexTokenBalances: s
        } = $t(), {
            areCexBalancesLoading: t,
            isCexBalancesError: n,
            allSelectedCexAccountsExpired: a
        } = kt(), {
            tokenTableColumns: r,
            sortedBalances: o,
            sortColumn: l,
            sortDirection: c
        } = Bi(s), i = S(Te), x = ({
            className: m
        }) => c === "asc" ? e.jsx(rn, {
            className: m
        }) : e.jsx(Ea, {
            className: m
        });
        return t() ? e.jsx(Tt, {}) : n ? e.jsx($i, {}) : a ? e.jsx(_i, {}) : s ? e.jsxs("table", {
            className: "w-full text-left -mt-7",
            children: [e.jsx("thead", {
                className: "border-b border-muted",
                children: e.jsx("tr", {
                    children: r.map(m => {
                        const h = l === m.sortId;
                        return e.jsx("th", {
                            className: k("w-1/3 lg:w-1/4 cursor-pointer", m.className),
                            onClick: m.onClick,
                            children: e.jsxs("div", {
                                className: k("flex gap-2", {
                                    "text-primary-default": h
                                }),
                                children: [m.title, h && e.jsx(x, {
                                    className: "w-5 h-5"
                                })]
                            })
                        }, m.sortId)
                    })
                })
            }), e.jsx("tbody", {
                className: "divide-y divide-muted",
                children: o.map(m => e.jsx(Ri, {
                    balance: m,
                    hideMonetaryValue: i
                }, m.symbol))
            })]
        }) : e.jsx(ye, {
            title: "No tokens to display",
            icon: e.jsx(pt, {
                className: "w-6 h-6"
            }),
            transparent: !0
        })
    },
    Ri = ({
        balance: s,
        hideMonetaryValue: t
    }) => {
        var l, c;
        const {
            formatPriceWithCurrency: n
        } = Se(), [a, r] = u.useState(!1), o = i => i.split("_")[0];
        return e.jsxs("tr", {
            children: [e.jsx("td", {
                children: e.jsxs("div", {
                    className: "flex items-center gap-4",
                    children: [!((l = s.tokenData) != null && l.symbolImageUrl) || a ? e.jsx(uo, {
                        symbol: s.symbol,
                        className: "w-8 h-8"
                    }) : e.jsx("img", {
                        src: (c = s.tokenData) == null ? void 0 : c.symbolImageUrl,
                        alt: $(s.symbol, 4),
                        className: "w-8 h-8 rounded-full object-cover",
                        onError: () => r(!0)
                    }), e.jsxs("div", {
                        className: " flex flex-col",
                        children: [e.jsx("div", {
                            children: e.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [o(s.symbol), e.jsx(ss, {
                                    tooltipProps: {
                                        delayHide: 200
                                    },
                                    tooltipText: "MetaMask Portfolio does not support additional data on this asset yet.",
                                    id: "cex-asset-tooltip"
                                })]
                            })
                        }), e.jsx("div", {
                            children: s.exchange
                        })]
                    })]
                })
            }), e.jsx("td", {
                children: t ? J : s.portfolioValuePercentage ? `${s.portfolioValuePercentage}%` : "--"
            }), e.jsx("td", {
                className: "hidden lg:flex",
                children: s.price ? n(Number(s.price)) : "Not available"
            }), e.jsx("td", {
                children: e.jsx(St, {
                    formattedMarketValue: t ? J : s.fiatValue ? n(Number(s.fiatValue)) : "--",
                    balance: t ? J : Number(s.amount).toLocaleString("en-US", {
                        maximumFractionDigits: 4
                    }),
                    symbol: t ? "" : s.symbol
                })
            })]
        })
    },
    _i = () => {
        const s = B(),
            {
                t
            } = F(),
            n = S(wt),
            {
                allCentralizedAccountsSelected: a,
                accountSelection: r
            } = ge(),
            o = u.useMemo(() => n.find(c => c.institutionId === r.id), [n, r.id]),
            l = async () => s(he(fe.AddAccount, {
                cexAccountToRepair: o
            }));
        return e.jsx(ye, {
            title: t("cex.expiredConnect"),
            subtitle: t("cex.expiredSubtitle"),
            icon: e.jsx(yl, {
                className: "w-6 h-6"
            }),
            button: a ? void 0 : e.jsx(xe, {
                onClick: l,
                children: t("cex.reconnect")
            }),
            transparent: !0
        })
    },
    $i = () => {
        const {
            t: s
        } = F();
        return e.jsx(ye, {
            title: s("cex.cexError"),
            subtitle: s("cex.cexErrorSubtitle"),
            icon: e.jsx(pt, {
                className: "w-6 h-6"
            }),
            transparent: !0
        })
    },
    Wi = () => {
        const {
            t: s
        } = F(), {
            setIsGridView: t,
            isGridView: n,
            selectedgridListTabsIndex: a,
            selectedCollections: r,
            setSelectedCollections: o,
            setHiddenTxCount: l,
            mappedAccountBalances: c,
            isFeatureEnabled: i,
            tokenDisplayView: x,
            allowancesId: m,
            isCentralizedSelection: h,
            showTransactionsActions: A,
            isBitcoinAccountSelected: g
        } = wn(), p = e.jsx(ye, {
            title: s("cex.comingSoon"),
            subtitle: s("cex.comingSoonSubtitle"),
            icon: e.jsx(el, {
                className: "w-6 h-6"
            }),
            className: "bg-transparent"
        });
        return e.jsx(u.Fragment, {
            children: e.jsxs(yn, {
                children: [e.jsxs("div", {
                    className: k({
                        "flex width-full justify-between": A,
                        "mt-6": !h && !g
                    }),
                    children: [e.jsxs("div", {
                        className: "flex flex-wrap gap-x-3 gap-y-6",
                        children: [i(me.NFT_TABS) && e.jsx(Cn, {
                            onTabChange: () => t(!n),
                            selectedGridIndex: a
                        }), i(me.ACCOUNTS_VIEW) && e.jsx(qe, {}), i(me.NETWORKS_VIEW) && e.jsx(Ge, {}), i(me.PORTFOLIO_ACTIONS) && e.jsx(fn, {
                            mappedAccountBalances: c
                        }), i(me.TRANSACTION_ACTIONS) && e.jsx(Nn, {}), i(me.NFT_COLLECTION_PICKER) && e.jsx(gn, {
                            className: "relative sm:inline-block text-left",
                            selectedCollections: r,
                            setSelectedCollections: o
                        }), i(me.NFT_ACTIONS_MENU) && e.jsx(pn, {})]
                    }), i(me.CSV_TRANSACTIONS) && e.jsx(Si, {})]
                }), e.jsxs(bt, {
                    children: [e.jsx(oe, {
                        className: "sm:-mx-6",
                        children: h ? e.jsx(Vi, {}) : x
                    }, "tokens"), i(me.NFT_VIEW) && e.jsx(oe, {
                        children: e.jsx(jn, {
                            isGridView: n,
                            selectedCollections: r
                        })
                    }, "nfts"), i(me.DEFI_POSITIONS) && e.jsx(oe, {
                        children: h ? p : e.jsx(Rt, {})
                    }, "defi"), e.jsx(oe, {
                        children: i(me.ACTIVITY_TAB) ? e.jsx(Dt, {
                            setHiddenTxCount: l
                        }) : p
                    }, "activity"), i(me.ALLOWANCES) && e.jsx(oe, {
                        children: e.jsx(bn, {})
                    }, m)]
                })]
            })
        })
    },
    Ui = () => {
        const s = B(),
            t = S(tn, ee),
            {
                connectedAccounts: n
            } = te(),
            a = localStorage.getItem(da) ? ? null,
            {
                data: r
            } = Le(Ws),
            o = u.useMemo(() => r == null ? void 0 : r.filter(i => n.find(x => x.address === i.accountAddress)), [n, r]),
            l = u.useMemo(() => r.filter(i => i.marketValue > ma).length, [r]),
            c = u.useCallback(() => {
                const i = new Set(r == null ? void 0 : r.filter(h => h.marketValue > ma).map(h => h.chainId)),
                    x = new Set([...t, ...xo, ...i]),
                    m = Array.from(x);
                s(ho(m)), s(fo(m)), s(po(o ? ? [])), localStorage.setItem(da, String(l))
            }, [t, s, o, r, l]);
        u.useEffect(() => {
            const i = a === null,
                x = l !== Number(a);
            (i || x) && l > 0 && c()
        }, [c, a, l])
    },
    os = "relative flex w-full space-x-3 z-50 overflow-x-scroll pb-4",
    Hi = () => {
        const {
            assetViewType: s,
            isHiddenNftsView: t,
            selectedgridListTabsIndex: n,
            hiddenTxCount: a,
            setHiddenTxCount: r,
            setAssetViewType: o,
            setIsGridView: l,
            isGridView: c,
            mappedAccountBalances: i,
            selectedCollections: x,
            tokenDisplayView: m,
            setSelectedCollections: h
        } = wn(), {
            enableAllowances: A
        } = _t(), p = mt() === "portfolio";
        return e.jsx(yn, {
            children: e.jsxs(bt, {
                children: [e.jsxs(oe, {
                    children: [e.jsxs("div", {
                        className: os,
                        children: [p && e.jsx(go, {
                            assetViewType: s,
                            setAssetViewType: o
                        }), e.jsx(qe, {}), e.jsx(Ge, {}), p && e.jsx(fn, {
                            mappedAccountBalances: i
                        })]
                    }), m]
                }, "tokens"), e.jsxs(oe, {
                    children: [e.jsxs("div", {
                        className: os,
                        children: [!t && e.jsx(Cn, {
                            onTabChange: () => l(!c),
                            selectedGridIndex: n
                        }), e.jsx(qe, {}), e.jsx(Ge, {}), !t && e.jsx(gn, {
                            className: "relative sm:inline-block text-left",
                            selectedCollections: x,
                            setSelectedCollections: h
                        }), e.jsx(pn, {})]
                    }), e.jsx(jn, {
                        isGridView: c,
                        selectedCollections: x
                    }), " "]
                }, "nfts"), e.jsxs(oe, {
                    children: [e.jsxs("div", {
                        className: os,
                        children: [e.jsx(qe, {}), e.jsx(Ge, {})]
                    }), e.jsx(Rt, {})]
                }, "defi"), e.jsxs(oe, {
                    children: [e.jsxs("div", {
                        className: os,
                        children: [e.jsx(qe, {}), e.jsx(Ge, {}), a > 0 && e.jsx(Nn, {})]
                    }), e.jsx(Dt, {
                        setHiddenTxCount: r
                    })]
                }, "activity"), A && e.jsxs(oe, {
                    children: [e.jsxs("div", {
                        className: os,
                        children: [e.jsx(qe, {}), e.jsx(Ge, {})]
                    }), e.jsx(bn, {})]
                }, "spending-caps")]
            })
        })
    },
    zi = () => {
        const s = S(jo),
            t = S(No),
            n = S(bo),
            a = S(vo),
            [r] = wo(),
            [o] = yo(),
            [l] = Co();
        u.useEffect(() => {
            if (t.length > 0) {
                t.forEach(c => {
                    r({
                        connectionId: c.connectionId
                    })
                });
                return
            }
            if (n.length > 0) {
                n.forEach(c => {
                    l({
                        cexAccount: c
                    })
                });
                return
            }(s.length > 0 || a.length > 0) && o()
        }, [])
    },
    qi = 100,
    Ca = "hide-card-eligibility-banner",
    Aa = "hide-buy-banner";

function An() {
    const {
        t: s
    } = F(), t = B(), n = Je(), {
        accounts: a,
        connectedAccounts: r,
        selectedAccountAddresses: o
    } = te(fs.ALL), l = S(Te), {
        formatPriceWithCurrency: c
    } = Se(), i = S(tn), {
        selectedAccountSectionTitle: x,
        isCentralizedSelection: m
    } = ge(), {
        areCexBalancesLoading: h,
        oneOrMoreCexAccountExpired: A
    } = kt(), g = S(Ao);
    Ui();
    const {
        marketValues: p,
        requestInfo: {
            isLoading: y,
            isError: N,
            errors: T
        }
    } = Le(So);
    zi();
    const {
        selectedCexPortfolioValue: d
    } = $t(), w = p.filter(Z => r.find(U => U.address === Z.accountAddress)).reduce((Z, U) => Z + U.marketValue, 0) < qi, [v, I] = u.useState(!1), [P, R] = u.useState(!1), Y = () => {
        localStorage.setItem(Ca, "true"), R(!1)
    }, se = () => {
        localStorage.setItem(Aa, "true"), I(!1)
    };
    u.useEffect(() => {
        const Z = localStorage.getItem(Ca);
        R(g && Z !== "true")
    }, [g]), u.useEffect(() => {
        const U = localStorage.getItem(Aa) !== "true" && w && !N;
        U !== v && I(U)
    }, [w, N]), u.useEffect(() => {
        var Z, U;
        N && i.length && a.length && To({
            total_error_count: (T == null ? void 0 : T.length) || 0,
            error_message: ((U = (Z = T == null ? void 0 : T[0]) == null ? void 0 : Z.status) == null ? void 0 : U.toString()) || "Error message not available",
            total_accounts: a.length,
            total_networks: i.length
        })
    }, [N, T, a.length, i]);
    const {
        aggregatedTokenBalances: L
    } = gt(o), {
        total24hChangePercent: K,
        total24hChangeValue: pe,
        totalValue: le
    } = ko(L), ie = l ? J : c(m ? d : le), ce = l ? J : c(pe), ae = () => t(Po()), be = () => {
        Oo({}), n("/card")
    };
    return e.jsxs(Ds, {
        className: "md:-mx-8 md:-my-8 lg:-mx-6 lg:-my-4",
        children: [e.jsx(Bs, {
            title: "Dashboard",
            containerClassName: "md:hidden"
        }), e.jsxs(u.Fragment, {
            children: [e.jsx("div", {
                className: "md:mb-8 my-6 md:my-0",
                children: e.jsx("div", {
                    className: "justify-between flex align-bottom",
                    children: e.jsxs("div", {
                        className: "w-full",
                        children: [O ? e.jsx("div", {
                            className: "text-md text-alternative",
                            children: s("home.portfolioValue")
                        }) : e.jsxs("div", {
                            className: "flex items-center gap-2 mb-4",
                            children: [e.jsx(q, {
                                bold: !0,
                                scale: Q.HeadingXs,
                                children: x
                            }), m && e.jsx(Io, {
                                tooltipId: "portfolio-beta-tag"
                            })]
                        }), P && e.jsx(Ls, {
                            className: "my-6 items-center gap-2 px-2 sm:px-6 py-3",
                            title: "Youre eligible to try MetaMask Card!",
                            type: "info",
                            customIcon: nl,
                            onClose: Y,
                            message: e.jsxs("div", {
                                className: "flex gap-1.5",
                                children: ["Spend your crypto like cash, instantly, anywhere Mastercard is accepted.", e.jsx(Ne, {
                                    className: "cursor-pointer text-primary-default",
                                    onClick: be,
                                    children: "Learn More"
                                })]
                            })
                        }), (m ? !h() : !y) ? e.jsxs(e.Fragment, {
                            children: [e.jsxs("div", {
                                className: Eo("flex items-center text-2xl md:text-4xl font-semibold text-default space-x-2 leading-10", l ? "" : "items-center"),
                                children: [e.jsxs("div", {
                                    className: "sm:text-[48px] font-bold sm:font-medium",
                                    children: [e.jsx("span", {
                                        children: ie.split(".")[0]
                                    }), e.jsxs("span", {
                                        className: "text-alternative",
                                        children: [!l && ".", ie.split(".")[1]]
                                    })]
                                }), m && e.jsx(ss, {
                                    className: "font-normal",
                                    tooltipProps: {
                                        delayHide: 200
                                    },
                                    tooltipText: s(A ? "cex.expiredAccounts" : "cex.portfolioBalanceWarning"),
                                    id: "cex-portfolio-tooltip",
                                    iconClassName: A ? "text-error-default" : "text-warning-default"
                                }), e.jsxs("button", {
                                    onClick: ae,
                                    className: "bg-alternative hover:bg-alternative-hover p-2 rounded-lg md:h-10",
                                    children: [l ? e.jsx(Al, {}) : e.jsx(Cl, {}), e.jsx("span", {
                                        className: "sr-only",
                                        children: "Hide Monetary values"
                                    })]
                                })]
                            }), !m && e.jsx("div", {
                                className: "items-center text-left",
                                children: e.jsxs("p", {
                                    className: `text-sm truncate ${K>0?"text-success-default":"text-error-default"}`,
                                    children: [e.jsx("span", {
                                        className: "mr-2",
                                        children: K > 0 && !l ? `+${ce}` : ce
                                    }), !l && e.jsx("span", {
                                        children: K > 0 ? `(+${`${Number(K||0).toFixed(2)}%`})` : `(${`${Number(K||0).toFixed(2)}%`})`
                                    })]
                                })
                            }), v && !m && e.jsx(Ls, {
                                id: "buy-tokens-banner",
                                className: "mt-6 items-center gap-2 px-2 sm:px-6 py-3",
                                type: "info",
                                customIcon: Lo,
                                startIconClassName: "fill-icon-default",
                                onClose: se,
                                message: `Buy tokens to get started with ${O?"":"MetaMask"} Portfolio.`,
                                buttons: [{
                                    children: `Buy${O?"":" tokens"}`,
                                    variant: "filled",
                                    className: "mt-1",
                                    onClick: () => {
                                        se(), lt({
                                            location: it.Banner
                                        }), n("/buy")
                                    }
                                }]
                            })]
                        }) : e.jsx(ps, {
                            className: "h-8 md:h-14 w-40 "
                        })]
                    })
                })
            }), e.jsx("div", {
                className: "mt-5 w-full",
                children: O ? e.jsx(Hi, {}) : e.jsx(Wi, {})
            })]
        })]
    })
}
const Gi = "/assets/asset-1-bc8cf690.webp",
    Ki = "/assets/asset-2-167109cd.webp",
    Zi = "/assets/asset-3-56d2f981.webp",
    Xi = "/assets/asset-3-mobile-093ae944.webp",
    Qi = "/assets/explorer-6627ec08.webp",
    Yi = "/assets/explorer-mobile-0bf287d8.webp",
    Ji = "/assets/factory-46c54889.webp",
    ec = "/assets/nudge-7295a4d5.webp",
    sc = "/assets/stake-c46dd08f.webp",
    tc = "/assets/swap-78398c4b.webp",
    ac = "/assets/asset-1-468add44.png",
    nc = "/assets/asset-2-7f3b16ca.png",
    rc = "/assets/asset-3-6b9e3aad.png",
    oc = "/assets/asset-3-mobile-e450dee4.png",
    lc = "/assets/explorer-f8075d45.png",
    ic = "/assets/explorer-mobile-26f5debc.png",
    cc = "/assets/factory-fd31eb11.png",
    dc = "/assets/nudge-d9fbc6ac.png",
    mc = "/assets/stake-af063574.png",
    uc = "/assets/swap-de1faa6a.png";
var De = (s => (s[s.WALLET_DETECTED = 0] = "WALLET_DETECTED", s[s.NO_WALLET_DETECTED = 1] = "NO_WALLET_DETECTED", s[s.WALLET_DETECTED_AFTER_DOWNLOAD = 2] = "WALLET_DETECTED_AFTER_DOWNLOAD", s))(De || {});
const xc = "metaMaskDownloadIntent",
    ts = () => {
        const {
            t: s
        } = F(), t = He("lg"), n = S(x => x.geoblocking.features.landingPageTokenActions), [a, r] = an(xc, !1), [o, l] = u.useState(), c = o === 0;
        return u.useEffect(() => {
            (() => {
                var h;
                const m = (h = window.ethereum) == null ? void 0 : h.isMetaMask;
                if (!m) return l(1);
                if (a && m) return l(2);
                if (m) return l(0)
            })()
        }, [a]), u.useEffect(() => {
            const x = () => {
                document.visibilityState === "visible" && a && window.location.reload()
            };
            return document.addEventListener("visibilitychange", x), () => {
                document.removeEventListener("visibilitychange", x)
            }
        }, [a]), {
            landingPageSections: u.useMemo(() => [{
                title: s("portfolioLanding.onRampOffRamp"),
                description: s("portfolioLanding.onRampOffRampDescription"),
                buttonText: s("portfolioLanding.buyCrypto"),
                buttonHref: Re.BUY,
                ctaType: ke.Buy,
                image: Ji,
                imageFallback: cc,
                className: "card lg:border-r border-b border-muted",
                displayCondition: !n
            }, {
                title: s("portfolioLanding.moveCrypto"),
                description: s(n ? "portfolioLanding.geoblockedMoveCryptoDescription" : "portfolioLanding.moveCryptoDescription"),
                buttonText: s("portfolioLanding.sendCrypto"),
                buttonHref: Re.SEND,
                ctaType: ke.Send,
                image: tc,
                imageFallback: uc,
                className: "card border-b border-muted"
            }, {
                title: s("portfolioLanding.diversifyPortfolio"),
                description: s("portfolioLanding.diversifyPortfolioDescription"),
                buttonText: s(c ? "portfolioLanding.stakeCrypto" : "portfolioLanding.exploreDeFi"),
                buttonHref: c ? Re.STAKE : Re.EXPLORE,
                ctaType: c ? ke.Stake : ke.Explore,
                image: sc,
                imageFallback: mc,
                className: "card lg:border-l border-b border-muted"
            }, {
                title: s("portfolioLanding.selfCustody"),
                description: s("portfolioLanding.selfCustodyDescription"),
                buttonText: s("portfolioLanding.exploreWeb3"),
                buttonHref: Re.EXPLORE,
                ctaType: ke.Explore,
                image: t ? void 0 : Xi,
                imageFallback: t ? void 0 : oc,
                className: "card full-width justify-center h-full lg:max-h-[80%] lg:mb-[380px] lg:col-span-3 gap-4"
            }], [n, t, s, c]),
            setDownloadInitiated: r,
            userWalletState: o
        }
    },
    hc = () => {
        const {
            t: s
        } = F(), {
            userWalletState: t
        } = ts(), n = k("hidden justify-center lg:justify-between items-center w-full max-h-[80%] px-6 lg:px-0 pb-4 border-b border-muted", {
            flex: t !== De.WALLET_DETECTED_AFTER_DOWNLOAD
        });
        return e.jsxs("div", {
            className: n,
            children: [e.jsx(Qe, {
                className: "hidden lg:flex h-[580px] min-w-[212px]",
                image: Gi,
                imageFallback: ac
            }), e.jsxs("div", {
                className: "flex flex-col text-center lg:max-w-[640px] gap-4 lg:gap-6 sm:mx-4 py-12 lg:py-[160px]",
                children: [e.jsx(q, {
                    scale: Q.HeadingMd,
                    className: "font-bold lg:font-medium lg:text-5xl px-4 lg:px-0",
                    children: t === De.NO_WALLET_DETECTED ? s("portfolioLanding.getStarted") : s("portfolioLanding.getStartedPortfolio")
                }), e.jsx(q, {
                    scale: Q.ParagraphBase,
                    className: "px-4",
                    children: t === De.NO_WALLET_DETECTED || O ? s("portfolioLanding.getStartedDescriptionNewbie") : s("portfolioLanding.getStartedDescription")
                }), e.jsxs("div", {
                    className: "flex items-center justify-center gap-4 mt-2 lg:gap-6",
                    children: [e.jsx(Sn, {}), e.jsx(Wt, {})]
                })]
            }), e.jsx(Qe, {
                className: "hidden lg:block h-[580px] min-w-[212px]",
                image: Ki,
                imageFallback: nc
            })]
        })
    },
    fc = ({
        section: {
            title: s,
            description: t,
            image: n,
            imageFallback: a,
            buttonText: r,
            buttonHref: o,
            className: l,
            ctaType: c
        },
        isLastSection: i
    }) => e.jsxs("div", {
        className: k("flex flex-col justify-start items-center gap-4 lg:gap-0 px-6 py-8 lg:py-12", l),
        children: [n && a && e.jsx("div", {
            className: "flex items-center justify-center w-full sm:h-[345px] max-w-[260px] sm:max-w-[48%] lg:max-w-[348px]",
            children: e.jsx(Qe, {
                image: n,
                imageFallback: a
            })
        }), e.jsxs("div", {
            className: k("flex flex-col items-center gap-4 pt-4 lg:h-48", {
                "lg:gap-8": i
            }),
            children: [e.jsx(q, {
                center: !0,
                scale: Q.HeadingMd,
                className: k("font-bold w-[230px]", {
                    "w-auto lg:w-[560px] lg:font-medium lg:text-5xl": i
                }),
                children: s
            }), e.jsx(q, {
                center: !0,
                scale: Q.ParagraphBase,
                className: k("!text-sm min-w-[200px] lg:max-w-[280px]", {
                    "lg:!text-base lg:max-w-[620px]": i
                }),
                children: t
            })]
        }), e.jsx(We, {
            to: o,
            onClick: () => {
                cs({
                    cta_type: c
                })
            },
            className: k("z-10 h-12 mt-2", {
                "lg:mt-8": i
            }),
            children: r
        })]
    }),
    pc = () => {
        const {
            handleImportClick: s,
            handleWalletChange: t,
            isLoading: n,
            error: a
        } = Mo(), {
            userWalletState: r
        } = ts(), o = He("lg"), {
            t: l
        } = F(), c = k("hidden lg:h-[600px] flex-col lg:flex-row lg:justify-between flex-end items-center relative py-[72px] px-6 lg:px-0 border-b border-muted", {
            flex: r !== De.WALLET_DETECTED
        });
        return e.jsxs("div", {
            className: c,
            children: [e.jsxs("div", {
                className: "flex flex-col lg:px-[8%] 2xl:px-[10%] mt-6 lg:mt-0 items-center lg:items-start justify-center lg:min-w-[480px] h-full text-center lg:text-left gap-4 lg:gap-8 order-2 lg:order-1",
                children: [e.jsx(q, {
                    scale: Q.HeadingMd,
                    className: "font-bold lg:font-medium lg:text-5xl",
                    children: l("portfolioLanding.previewApp")
                }), e.jsx(q, {
                    className: "px-6 lg:px-0",
                    scale: Q.ParagraphBase,
                    children: l("home.notReadyToConnect")
                }), e.jsx(gc, {
                    handleImportClick: s,
                    handleWalletChange: t,
                    error: a,
                    isLoading: n
                })]
            }), e.jsx("div", {
                className: "order-1 lg:order-2 max-w-[260px] sm:max-w-[50%]",
                children: e.jsx(Qe, {
                    image: o ? Qi : Yi,
                    imageFallback: o ? lc : ic
                })
            })]
        })
    },
    gc = ({
        handleImportClick: s,
        handleWalletChange: t,
        error: n,
        isLoading: a
    }) => {
        const {
            t: r
        } = F();
        return e.jsxs("form", {
            className: "w-full flex flex-col items-center lg:items-start gap-6 lg:gap-8",
            onSubmit: s,
            children: [e.jsx($s, {
                type: "text",
                error: n,
                placeholder: "Wallet address or ENS name",
                onChange: t,
                className: "w-full block py-2.5 px-4 rounded-lg border-primary-default bg-transparent shadow-sm focus:border-primary-muted",
                errorClassName: "text-xs -bottom-[20px]"
            }), e.jsx(xe, {
                type: "submit",
                className: "h-12 w-[142px]",
                isLoading: a,
                children: r("home.watchAddress")
            })]
        })
    },
    jc = () => {
        const {
            userWalletState: s
        } = ts(), {
            t
        } = F(), n = k("hidden flex-col items-center justify-center py-12 lg:py-[60px] gap-4 lg:gap-6 border-b border-muted", {
            flex: s === De.WALLET_DETECTED_AFTER_DOWNLOAD
        });
        return e.jsxs("div", {
            className: n,
            children: [e.jsx(Qe, {
                className: "w-[238px]",
                image: ec,
                imageFallback: dc
            }), e.jsx(q, {
                scale: Q.HeadingMd,
                className: "font-bold lg:font-medium lg:text-5xl",
                children: t("portfolioLanding.almostThere")
            }), e.jsx(q, {
                className: "text-center lg:text-left px-6 lg:px-0",
                scale: Q.ParagraphBase,
                children: t("portfolioLanding.connectMetaMaskWallet")
            }), e.jsxs("div", {
                className: "flex items-center justify-center gap-4 lg:gap-6 mt-2",
                children: [!O && e.jsx(Sn, {}), e.jsx(Wt, {})]
            })]
        })
    },
    Nc = s => {
        const t = B(),
            n = S(o => o.geoblocking.features[s]),
            a = S(o => o.geoblocking.error),
            r = S(o => o.geoblocking.isFetching);
        return u.useEffect(() => {
            n === void 0 && !r && t(Fo(s))
        }, [t, s, n, r]), {
            isFeatureGeoblocked: n,
            error: a
        }
    },
    bc = () => {
        const s = He("lg"),
            {
                landingPageSections: t
            } = ts(),
            {
                isFeatureGeoblocked: n
            } = Nc("landingPageTokenActions");
        return e.jsxs("div", {
            className: "relative",
            children: [e.jsx(vc, {}), e.jsx(jc, {}), e.jsx(hc, {}), e.jsx(pc, {}), e.jsx("div", {
                className: k("grid grid-cols-1 lg:grid-cols-3", {
                    "lg:grid-cols-2": n
                }),
                children: t.map((a, r) => {
                    const o = r === t.length - 1;
                    return a.displayCondition === !1 ? null : e.jsx(fc, {
                        section: a,
                        isLastSection: o
                    }, a.title)
                })
            }), s && e.jsx(Qe, {
                className: "absolute bottom-0 right-0 w-[55%] max-w-[750px]",
                image: Zi,
                imageFallback: rc
            })]
        })
    },
    vc = () => {
        const {
            t: s
        } = F(), t = He("md");
        return e.jsxs("div", {
            className: k("flex items-center justify-between p-8 border-b border-muted", {
                hidden: !t
            }),
            children: [e.jsx(q, {
                bold: !0,
                scale: Q.HeadingMd,
                children: s("home.dashboard")
            }), e.jsx(Wt, {})]
        })
    },
    Wt = () => {
        const {
            t: s
        } = F(), {
            userWalletState: t,
            setDownloadInitiated: n
        } = ts(), a = () => {
            cs({
                cta_type: ke.ConnectWallet
            })
        }, r = () => {
            cs({
                cta_type: ke.DownloadWallet
            }), n(!0)
        };
        return O ? e.jsx(ua, {
            walletType: xa.METAMASK,
            hideIcon: !0,
            onClickCallback: a,
            buttonText: s("home.openMetaMask"),
            className: "w-[162px] h-12 whitespace-nowrap"
        }) : t === De.NO_WALLET_DETECTED ? e.jsx(We, {
            className: "h-12",
            onClick: r,
            href: "https://metamask.app.link/",
            children: s("home.downloadMetaMask")
        }) : e.jsx(ua, {
            walletType: xa.METAMASK,
            hideIcon: !0,
            onClickCallback: a,
            buttonText: s("home.connectMetaMask"),
            className: "w-[162px] h-12 whitespace-nowrap"
        })
    },
    Sn = () => {
        const {
            t: s
        } = F(), t = B(), {
            userWalletState: n
        } = ts();
        return n === De.WALLET_DETECTED ? e.jsx(xe, {
            onClick: () => {
                cs({
                    cta_type: ke.WatchAddress
                }), t(he(fe.AddAccount))
            },
            variant: "outline",
            className: "max-w-[162px] h-12 whitespace-nowrap",
            children: s("home.watchAnAddress")
        }) : e.jsx(We, {
            href: Do,
            onClick: () => {
                cs({
                    cta_type: ke.LearnMore
                })
            },
            variant: "outline",
            className: "hidden sm:flex h-12 whitespace-nowrap",
            children: s("home.learnMore")
        })
    },
    wc = () => e.jsxs("svg", {
        width: "24",
        height: "24",
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        children: [e.jsx("path", {
            d: "M22.0002 11.9096V14.0908C22.0002 14.6731 21.5602 15.1496 21.0002 15.1708H19.0402C17.9602 15.1708 16.9702 14.3343 16.8802 13.1908C16.8202 12.5237 17.0602 11.899 17.4802 11.4649C17.8502 11.0626 18.3602 10.8296 18.9202 10.8296H21.0002C21.5602 10.8508 22.0002 11.3273 22.0002 11.9096Z",
            className: "fill-icon-default"
        }), e.jsx("path", {
            d: "M20.47 16.7588H19.04C17.14 16.7588 15.54 15.2447 15.38 13.3176C15.29 12.2165 15.67 11.1153 16.43 10.3318C17.07 9.63294 17.96 9.24118 18.92 9.24118H20.47C20.76 9.24118 21 8.98706 20.97 8.68C20.75 6.10706 19.14 4.34941 16.75 4.05294C16.51 4.01059 16.26 4 16 4H7C6.72 4 6.45 4.02118 6.19 4.06353C3.64 4.40235 2 6.41412 2 9.29412V16.7059C2 19.6282 4.24 22 7 22H16C18.8 22 20.73 20.1471 20.97 17.32C21 17.0129 20.76 16.7588 20.47 16.7588ZM13 10.6176H7C6.59 10.6176 6.25 10.2576 6.25 9.82353C6.25 9.38941 6.59 9.02941 7 9.02941H13C13.41 9.02941 13.75 9.38941 13.75 9.82353C13.75 10.2576 13.41 10.6176 13 10.6176Z",
            className: "fill-icon-default"
        })]
    }),
    yc = () => e.jsx("svg", {
        width: "24",
        height: "24",
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        children: e.jsx("path", {
            d: "M22 20.3035C22 20.6518 21.7458 21 21.322 21H2.67797C2.33898 21 2 20.7388 2 20.3035C2 19.8682 2.25424 19.607 2.67797 19.607H3.52542V17.6917C3.52542 17.2563 3.94915 16.821 4.37288 16.821H6.0678V10.7267H7.76271V16.821H9.45763V10.7267H11.1525V16.821H12.8475V10.7267H14.5424V16.821H16.2373V10.7267H17.9322V16.821H19.6271C20.0508 16.821 20.4746 17.2563 20.4746 17.6917V19.607H21.322C21.661 19.607 22 19.9553 22 20.3035ZM3.52542 9.85611V6.98307C3.52542 6.63482 3.77966 6.28658 4.0339 6.19952L11.661 3.0653C11.8305 2.97823 12.0847 2.97823 12.2542 3.0653L19.8814 6.19952C20.2203 6.28658 20.4746 6.63482 20.4746 6.98307V9.85611C20.4746 10.2914 20.0508 10.7267 19.6271 10.7267H4.37288C3.94915 10.7267 3.52542 10.2914 3.52542 9.85611ZM10.7288 7.24426C10.7288 7.94075 11.322 8.55018 12 8.55018C12.678 8.55018 13.2712 7.94075 13.2712 7.24426C13.2712 6.54776 12.678 5.93833 12 5.93833C11.322 5.93833 10.7288 6.54776 10.7288 7.24426Z",
            className: "fill-icon-default"
        })
    }),
    Cc = () => {
        const s = B(),
            {
                accounts: t
            } = te(fs.ALL),
            {
                areCexBalancesLoading: n
            } = kt(),
            a = S(wt),
            r = He("lg"),
            o = u.useRef(null),
            l = u.useRef(!0),
            {
                handleSelectAllAccounts: c,
                handleSelectAllCEXAccounts: i,
                allNonCustodialAccountsSelected: x,
                allCentralizedAccountsSelected: m
            } = ge(),
            {
                totalCexPortfolioValue: h
            } = $t(),
            A = S(Bo),
            g = S(Vo),
            {
                data: p,
                requestInfo: y
            } = Le(Ws),
            N = Ro(p),
            T = !r || t.length <= 1,
            [d, b] = an("accountsSidebarCollapsed", T),
            C = ha({
                width: d ? "88px" : "244px",
                config: {
                    tension: 210,
                    friction: 30
                },
                immediate: l.current
            }),
            w = ha({
                config: {
                    tension: 210,
                    friction: 30
                },
                opacity: d ? 0 : 1,
                overflow: "hidden"
            });
        return u.useEffect(() => {
            l.current = !1
        }, []), e.jsxs(Fe.div, {
            ref: o,
            style: C,
            className: "group relative border-r border-muted z-10 w-[260px]",
            children: [e.jsx(_o, {
                onToggleCollapse: () => b(!d),
                collapsed: d,
                className: "top-4"
            }), e.jsx(Tc, {
                collapsed: d,
                animationStyles: w
            }), e.jsxs("div", {
                style: {
                    height: `calc(100% - ${Tn}px)`
                },
                className: k("overflow-y-auto no-scrollbar", {
                    "flex flex-col justify-between": a.length === 0
                }),
                children: [t.length > 0 && e.jsxs("div", {
                    className: "border-b border-muted",
                    children: [e.jsx(Sa, {
                        accountsTotalMarketValue: N,
                        animationStyle: w,
                        isLoading: y.isLoading,
                        title: fa.WALLET,
                        onClick: c,
                        endIcon: g ? e.jsx(Ks, {
                            className: "!p-0"
                        }) : e.jsx(Zs, {
                            className: "!p-0"
                        }),
                        onIconClick: () => s($o()),
                        isSelected: x,
                        isSidebarCollapsed: d
                    }), g && t.map(v => {
                        const I = Wo(v, p);
                        return e.jsx(Ac, {
                            accountValue: I,
                            account: v,
                            animationStyle: w,
                            isLoading: y.isLoading,
                            isSidebarCollapsed: d
                        }, v.address)
                    })]
                }), a.length > 0 ? e.jsxs("div", {
                    className: "border-b border-muted",
                    children: [e.jsx(Sa, {
                        accountsTotalMarketValue: h,
                        animationStyle: w,
                        isLoading: n(),
                        title: fa.EXCHANGE,
                        onClick: i,
                        endIcon: A ? e.jsx(Ks, {}) : e.jsx(Zs, {}),
                        onIconClick: () => s(Uo()),
                        isSelected: m,
                        isCEXSection: !0,
                        isSidebarCollapsed: d
                    }), A && (a == null ? void 0 : a.map(v => e.jsx(Sc, {
                        accountValue: v.totalFiatBalance ? ? 0,
                        cexAccount: v,
                        animationStyle: w,
                        isLoading: n(v.institutionId),
                        isSidebarCollapsed: d
                    }, v.institutionId)))]
                }) : e.jsx("div", {
                    className: "w-full mt-4",
                    children: Ho.filter(v => v.showTeaserInSidebar).map(v => e.jsxs(Ne, {
                        className: k("flex items-center mx-auto cursor-pointer bg-alternative-hover font-normal text-sm mb-4 text-nowrap", {
                            "w-[45px] h-[45px] justify-center rounded-full": d,
                            "pl-6 w-[90%] rounded-md h-[50px]": !d
                        }),
                        onClick: () => s(he(fe.AddAccount, {
                            preSelectedCexAccount: v
                        })),
                        children: [e.jsx("img", {
                            src: v.icon,
                            alt: v.exchangeTitle,
                            width: "20px"
                        }), e.jsxs(Fe.div, {
                            style: w,
                            className: k("", {
                                hidden: d,
                                "ml-3": !d
                            }),
                            children: ["Connect ", v.exchangeTitle]
                        })]
                    }, v.institutionId))
                })]
            })]
        })
    },
    Ac = ({
        account: s,
        accountValue: t,
        animationStyle: n,
        isLoading: a,
        isSidebarCollapsed: r
    }) => {
        const {
            accountSelection: o
        } = ge(), l = S(Pe), {
            formatPriceWithCurrency: c
        } = Se(), {
            selectIndividualAccount: i
        } = ge(), x = S(Te), m = o.id === s.address;
        return e.jsxs(Ne, {
            onClick: () => {
                i(s.address), yt({
                    account_selection: Ct.IndividualAccount
                })
            },
            className: k("cursor-pointer flex items-center gap-4 py-4 h-[74px]", {
                "bg-default": m,
                "hover:bg-alternative-hover": !m,
                "justify-center": r,
                "pl-6": !r
            }),
            children: [e.jsx(Ae, {
                accountIdenticonType: l,
                size: 6,
                address: (s == null ? void 0 : s.address) ? ? "",
                avatarUri: s == null ? void 0 : s.ensAvatar,
                className: "rounded-full"
            }), e.jsxs(Fe.div, {
                style: n,
                className: k("flex flex-col items-start gap-1", {
                    hidden: r
                }),
                children: [e.jsx(q, {
                    scale: Q.ParagraphSm,
                    className: k("text-default", {
                        "font-semibold": m
                    }),
                    children: zo(s.name) ? $(Xe(s.address), 12) : $(s.name, 22)
                }), e.jsx(q, {
                    scale: Q.ParagraphSm,
                    className: "text-default",
                    children: a ? e.jsx(ps, {
                        className: "w-16 h-6 rounded-lg mt-0"
                    }) : x ? J : c(t)
                })]
            })]
        })
    },
    Sc = ({
        cexAccount: s,
        accountValue: t,
        animationStyle: n,
        isLoading: a,
        isSidebarCollapsed: r
    }) => {
        const o = qo(s.institutionId),
            {
                accountSelection: l
            } = ge(),
            c = S(Pe),
            {
                formatPriceWithCurrency: i
            } = Se(),
            {
                selectIndividualCEXAccount: x
            } = ge(),
            m = S(Te),
            h = l.id === s.institutionId,
            {
                t: A
            } = F();
        return e.jsxs(Ne, {
            onClick: () => {
                x(s.institutionId), yt({
                    account_selection: Ct.IndividualAccount
                })
            },
            className: k("cursor-pointer flex items-center gap-4 py-4 h-[74px]", {
                "bg-default": h,
                "hover:bg-alternative-hover": !h,
                "justify-center": r,
                "pl-6 pr-4": !r
            }),
            children: [e.jsx(Ae, {
                accountIdenticonType: c,
                size: 6,
                address: s.institutionId,
                avatarUri: o == null ? void 0 : o.icon,
                className: "rounded-full"
            }), e.jsxs(Fe.div, {
                style: n,
                className: k("flex justify-between items-center w-full", {
                    hidden: r
                }),
                children: [e.jsxs("div", {
                    className: "flex flex-col items-start gap-1",
                    children: [e.jsx(q, {
                        scale: Q.ParagraphSm,
                        className: k("text-default whitespace-nowrap", {
                            "font-semibold": h
                        }),
                        children: s.name ? $(s.name, 22) : o == null ? void 0 : o.title
                    }), e.jsx(q, {
                        scale: Q.ParagraphSm,
                        className: "text-default whitespace-nowrap",
                        children: a ? e.jsx(ps, {
                            className: "w-16 h-6 rounded-lg mt-0"
                        }) : m ? J : s != null && s.needsRepair ? "--" : i(t)
                    })]
                }), (s == null ? void 0 : s.needsRepair) && e.jsx(q, {
                    className: "text-error-default self-end ml-[-2px] mb-[2px]",
                    scale: Q.ParagraphXs,
                    children: A("cex.expired")
                })]
            })]
        })
    },
    Tn = 64,
    Tc = ({
        collapsed: s,
        animationStyles: t
    }) => {
        const {
            t: n
        } = F(), a = Je(), r = B(), o = () => {
            vt({}), r(he(fe.AddAccount, null, {
                content: {
                    maxWidth: "36rem"
                }
            }))
        };
        return e.jsxs(Ne, {
            onClick: () => s && o(),
            style: {
                height: `${Tn}px`
            },
            className: k("flex justify-between items-center border-b border-muted p-4 cursor-auto", {
                "hover:bg-alternative-hover cursor-pointer group/sidebar justify-center": s
            }),
            children: [e.jsx(Fe.div, {
                style: t,
                className: k({
                    hidden: s
                }),
                children: e.jsx(q, {
                    scale: Q.HeadingXs,
                    className: "text-default font-semibold",
                    children: n("home.accountsTitle")
                })
            }), e.jsxs("div", {
                className: k("flex items-center justify-center", {
                    "gap-4": !s
                }),
                children: [e.jsx(Fe.div, {
                    style: t,
                    className: "cursor-pointer",
                    onClick: () => a("/settings/accounts"),
                    children: e.jsx(bl, {
                        className: k("w-5 h-5 hover:text-primary-default", {
                            "w-0": s
                        })
                    })
                }), e.jsx(Fe.div, {
                    className: "cursor-pointer",
                    onClick: () => !s && o(),
                    children: e.jsx(ct, {
                        className: k("w-5 h-5", {
                            "group-hover/sidebar:text-primary-default": s,
                            "hover:text-primary-default": !s
                        })
                    })
                })]
            })]
        })
    },
    Sa = ({
        animationStyle: s,
        accountsTotalMarketValue: t,
        isLoading: n,
        title: a,
        onClick: r,
        endIcon: o,
        onIconClick: l,
        isSelected: c,
        isCEXSection: i,
        isSidebarCollapsed: x
    }) => {
        const m = S(Te),
            {
                formatPriceWithCurrency: h
            } = Se();
        return e.jsxs(Ne, {
            onClick: () => {
                yt({
                    account_selection: Ct.AllAccounts
                }), r()
            },
            className: k("cursor-pointer flex justify-center items-center py-6 h-[74px]", {
                "bg-default": c,
                "hover:bg-alternative-hover": !c,
                "px-4 justify-between": !x
            }),
            children: [e.jsxs(Fe.div, {
                className: k("flex flex-col justify-start items-start whitespace-nowrap", {
                    hidden: x
                }),
                style: s,
                children: [e.jsx(q, {
                    scale: Q.ParagraphSm,
                    className: k("text-default", {
                        "font-semibold": c
                    }),
                    children: a
                }), e.jsx(q, {
                    scale: Q.ParagraphSm,
                    className: "text-default",
                    children: n ? e.jsx(ps, {
                        className: "w-16 h-6 rounded-lg mt-0"
                    }) : m ? J : $(h(t), 16)
                })]
            }), e.jsxs("div", {
                className: "flex items-center justify-center gap-1",
                children: [e.jsx("div", {
                    className: k("p-1", {
                        hidden: !x
                    }),
                    children: i ? e.jsx(yc, {}) : e.jsx(wc, {})
                }), e.jsx(Ne, {
                    onClick: A => {
                        A.stopPropagation(), l()
                    },
                    className: "flex items-center justify-center rounded-full hover:text-primary-default",
                    children: o
                })]
            })]
        })
    },
    kc = ({
        className: s
    }) => {
        const {
            t
        } = F(), n = B(), a = He("lg"), r = () => {
            vt({}), n(he(fe.AddAccount, null, {
                content: {
                    maxWidth: "36rem"
                }
            }))
        };
        return e.jsxs("div", {
            className: k("flex w-full items-center justify-between", s),
            children: [e.jsx("div", {
                className: "flex items-center gap-4",
                children: e.jsx(ll, {
                    location: Go.Dashboard,
                    actions: ["BUY", "SWAP", "BRIDGE", "SEND", "SELL", "STAKE"],
                    customTokenActionData: {
                        SEND: {
                            name: "Send"
                        },
                        SELL: {
                            displayCondition: a
                        },
                        STAKE: {
                            displayCondition: a
                        }
                    }
                })
            }), e.jsx(xe, {
                onClick: r,
                className: "py-1.5 text-default",
                startIcon: e.jsx(Ko, {
                    className: "w-4 h-4"
                }),
                variant: "outline",
                children: t("main.accountConnect.addAccount")
            })]
        })
    },
    Ic = () => {
        const s = He("md"),
            {
                accounts: t
            } = te(),
            n = !s || qs;
        if (t.length === 0) return e.jsx(bc, {});
        if (n) {
            const a = !s || qs ? u.Fragment : Ds;
            return e.jsx(a, {
                children: e.jsx(An, {})
            })
        }
        return e.jsx(Lc, {})
    },
    Ec = Ic,
    Lc = () => {
        const {
            isConnected: s
        } = Zo();
        return e.jsxs("div", {
            className: "flex flex-col h-screen overflow-hidden",
            children: [e.jsxs("div", {
                className: "flex flex-col py-4 px-4 lg:px-6 border-b border-muted",
                children: [e.jsx(Bs, {
                    title: "Dashboard",
                    containerClassName: k({
                        "!pb-0": !s,
                        "!pb-2": s
                    })
                }), s && e.jsx(kc, {
                    className: "self-start pb-2"
                })]
            }), e.jsxs("div", {
                className: "flex flex-1 overflow-hidden",
                children: [e.jsx(Cc, {}), e.jsx("div", {
                    className: "flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar",
                    children: e.jsx(An, {})
                })]
            })]
        })
    };

function Gc() {
    return Xo("Dashboard"), e.jsxs(Qo, {
        children: [e.jsx(ws, {
            index: !0,
            element: e.jsx(Ec, {})
        }), e.jsx(ws, {
            path: Re.PORTFOLIO_CONNECT,
            element: e.jsx(kl, {})
        }), e.jsx(ws, {
            path: Re.PUBLIC_PORTFOLIO,
            element: e.jsx(ji, {})
        }), e.jsx(ws, {
            path: "*",
            element: e.jsx(Yo, {})
        })]
    })
}
export {
    Gc as
    default
};